{"timestamp": "2025-08-22T08:11:38.486421", "level": "WARNING", "correlation_id": "273d721f-3781-48b7-ab35-0d1d8e9b84f2", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-22T08:11:38.768646", "level": "INFO", "correlation_id": "273d721f-3781-48b7-ab35-0d1d8e9b84f2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:39.004310", "level": "INFO", "correlation_id": "e4d48d81-49f5-45bd-bf1b-9286431bc80f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:39.010194", "level": "INFO", "correlation_id": "0d25fd3c-3b0a-4e44-b73e-b7f755667be4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-22T08:11:39.248782", "level": "INFO", "correlation_id": "965a2b18-9e6b-4826-9594-edab1930ccc8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:39.479579", "level": "INFO", "correlation_id": "15bf9e9e-e4a6-433e-9372-c0ad234a1ffb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:39.717163", "level": "INFO", "correlation_id": "70328452-32e6-4eed-8832-194229e71699", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:39.951839", "level": "INFO", "correlation_id": "db700867-d407-45e1-a35d-82689c0192db", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:11:40.188283", "level": "INFO", "correlation_id": "47cae225-0d89-4237-8296-061702832334", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:40.421904", "level": "INFO", "correlation_id": "6752818a-a4c4-4370-a9ac-2ef4abe21a65", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:40.428560", "level": "INFO", "correlation_id": "337812a4-c118-404c-a785-b62c1f1c0b6c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:40.438122", "level": "INFO", "correlation_id": "1dac513d-cdac-46af-9560-f0b6bddc1c44", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:11:40.677197", "level": "INFO", "correlation_id": "d296d755-77ef-4a3d-9623-59125a405394", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:40.908289", "level": "INFO", "correlation_id": "75457c82-572b-4438-b3b3-fb9c816f1c4c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:40.919489", "level": "INFO", "correlation_id": "e461a438-f687-417c-8651-87ca8616b5ce", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:41.156864", "level": "INFO", "correlation_id": "cbc3f119-1616-41af-a2b0-d1fe95f6625a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:41.389575", "level": "INFO", "correlation_id": "c84eb43a-c295-40b1-ab92-adbd160d8f60", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:41.625560", "level": "INFO", "correlation_id": "888912f6-e203-4f84-a589-ceb8bccf7ddd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:41.858683", "level": "INFO", "correlation_id": "c5d2fed4-dae4-44ac-a8c6-8db197700574", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:42.290124", "level": "INFO", "correlation_id": "044d5bfe-9c7a-41cd-bc71-f835f892bfcb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:42.512562", "level": "INFO", "correlation_id": "b98506af-33d8-458c-91ba-17a38ae3f311", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:42.740172", "level": "INFO", "correlation_id": "c593ac18-66e8-4a7e-a59f-1b4c7c697317", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:42.955730", "level": "INFO", "correlation_id": "d5595132-acae-4870-bc16-835ec03d537c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:42.971873", "level": "INFO", "correlation_id": "3ab09457-8ea5-4d93-987e-bbcfee38f220", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:11:42.974560", "level": "INFO", "correlation_id": "1edd9be3-f6e1-492b-a69c-c3422751a783", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:11:43.195141", "level": "INFO", "correlation_id": "66398a7d-df0d-4652-b776-23b300e9e83f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:43.408601", "level": "INFO", "correlation_id": "db941e48-25db-45fa-8744-8e09f53dc943", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:43.415157", "level": "INFO", "correlation_id": "2e71eaa6-366c-4775-a23e-3673d4bfff65", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-22T08:11:43.632958", "level": "INFO", "correlation_id": "28fe48d5-e64b-4e18-a2b9-90b5d1206727", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:11:43.846746", "level": "INFO", "correlation_id": "4bc69879-565d-4c4c-9d75-24ffc942f07f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:11:43.923007", "level": "ERROR", "correlation_id": "95e8201e-1758-4ce0-bee4-8c792439d364", "logger": "app.logging_config", "module": "main", "line": 37, "message": "Unhandled exception during GET /tasks/068a8263-fd90-76e3-8000-1c9cd881331a", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/middleware.py\", line 13, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/api/task_manager.py\", line 22, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/task_manager/service.py\", line 23, in get_task_by_id\n    task_orm = await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/task_manager/repository.py\", line 18, in get_by_id\n    return await self.session.get(Task, task_id, options=[(Task.user_id == user_id)])\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 606, in get\n    return await greenlet_spawn(\n           ^^^^^^^^^^^^^^^^^^^^^\n    ...<8 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 3694, in get\n    return self._get_impl(\n           ~~~~~~~~~~~~~~^\n        entity,\n        ^^^^^^^\n    ...<7 lines>...\n        bind_arguments=bind_arguments,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 3872, in _get_impl\n    statement = statement.options(*options)\n  File \"<string>\", line 2, in options\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 284, in _generative\n    x = fn(self, *args, **kw)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 1128, in options\n    self._with_options += tuple(\n                          ~~~~~^\n        coercions.expect(roles.ExecutableOptionRole, opt)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        for opt in options\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 1129, in <genexpr>\n    coercions.expect(roles.ExecutableOptionRole, opt)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py\", line 424, in expect\n    return impl._implicit_coercions(\n           ~~~~~~~~~~~~~~~~~~~~~~~~^\n        original_element, resolved, argname=argname, **kw\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py\", line 740, in _implicit_coercions\n    self._raise_for_expected(element, argname, resolved)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py\", line 518, in _raise_for_expected\n    raise exc.ArgumentError(msg, code=code) from err\nsqlalchemy.exc.ArgumentError: ExecutionOption Core or ORM object expected, got <sqlalchemy.sql.elements.BinaryExpression object at 0x722c5f6931b0>."}
{"timestamp": "2025-08-22T08:12:42.136701", "level": "WARNING", "correlation_id": "a6f4f26f-0c09-4be3-bead-17124e918188", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-22T08:12:42.385017", "level": "INFO", "correlation_id": "a6f4f26f-0c09-4be3-bead-17124e918188", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:42.614017", "level": "INFO", "correlation_id": "53c8c116-76bf-42e0-80a4-18727dc1844e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:42.617890", "level": "INFO", "correlation_id": "b1304219-23e0-4050-be5e-fb4522ef3494", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-22T08:12:42.845171", "level": "INFO", "correlation_id": "6ad07bb6-f4bf-4172-83c0-f23007ab01b4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:43.063767", "level": "INFO", "correlation_id": "8105014b-208c-4b23-8d01-7856467367dd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:43.281231", "level": "INFO", "correlation_id": "d98e9f70-1a9a-4388-9e14-9fad5abe7f3f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:43.497038", "level": "INFO", "correlation_id": "7b878c5f-ca15-45ac-b17f-a340b5d78cdd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:12:43.714301", "level": "INFO", "correlation_id": "147c9e76-0e2a-4e83-b175-e48ef8adedf9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:43.925988", "level": "INFO", "correlation_id": "f46bb80d-c0aa-439e-a37c-d8dc1b9143c0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:43.930092", "level": "INFO", "correlation_id": "796b0409-7872-4d47-abdd-f690a813be54", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:43.934281", "level": "INFO", "correlation_id": "a0d7889c-fb6c-48af-a120-556796db0176", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:12:44.156434", "level": "INFO", "correlation_id": "9be7c938-3b37-4572-93f9-109feda2eccd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:44.370322", "level": "INFO", "correlation_id": "a92ce4c7-81df-4e8a-a1cf-7c5e3f799b6a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:44.379465", "level": "INFO", "correlation_id": "05b53fab-6e74-4128-b36a-6f0629462e43", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:44.597480", "level": "INFO", "correlation_id": "380dbc5d-675a-4436-b959-2ec6194d4a54", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:44.810117", "level": "INFO", "correlation_id": "7029ec9c-80bf-4299-bd64-71ec750f75f4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:45.027244", "level": "INFO", "correlation_id": "2c35eddb-5796-4152-9162-1a1c3d22932a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:45.236908", "level": "INFO", "correlation_id": "52c36fb9-154b-41b3-ada2-9b8a6a4d9344", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:45.641761", "level": "INFO", "correlation_id": "d451bcf3-09e4-4064-9354-cd61dd1a982d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:45.856109", "level": "INFO", "correlation_id": "8bc492c6-b5f0-4043-a149-3fbe1e817762", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:46.068243", "level": "INFO", "correlation_id": "e546c6a5-1cb6-4e6d-84c9-2e0607d12cfe", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:46.278901", "level": "INFO", "correlation_id": "4743f7a6-6702-4419-bb39-e4809a46dfb3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:46.296820", "level": "INFO", "correlation_id": "b15ffa5e-8d70-43b0-bbf4-cdf530b5b2a8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:12:46.299624", "level": "INFO", "correlation_id": "732337a5-9726-4a75-984d-89946e225c82", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:12:46.518922", "level": "INFO", "correlation_id": "999e4934-19e1-4b31-8a7a-d7459f482fd9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:46.732156", "level": "INFO", "correlation_id": "39a954f8-1f16-4703-bc6b-8edbda22e942", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:46.737540", "level": "INFO", "correlation_id": "fb1b6796-2d92-4198-8e56-cf1b453b0133", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-22T08:12:46.951565", "level": "INFO", "correlation_id": "6a0b3226-4208-45de-95fc-bb962b79e4f0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:12:47.170919", "level": "INFO", "correlation_id": "754256ee-5df6-4eef-8892-e01c1b3b9953", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:12:47.188251", "level": "ERROR", "correlation_id": "cad0d02a-2f28-4456-ac7f-cbc22c65d598", "logger": "app.logging_config", "module": "main", "line": 37, "message": "Unhandled exception during GET /tasks/068a8267-f2c0-76b1-8000-8f05b3beed49", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/middleware.py\", line 13, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/api/task_manager.py\", line 22, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/task_manager/service.py\", line 23, in get_task_by_id\n    task_orm = await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/task_manager/repository.py\", line 18, in get_by_id\n    return await self.session.get(Task, task_id, options=[(Task.user_id == user_id)])\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 606, in get\n    return await greenlet_spawn(\n           ^^^^^^^^^^^^^^^^^^^^^\n    ...<8 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 3694, in get\n    return self._get_impl(\n           ~~~~~~~~~~~~~~^\n        entity,\n        ^^^^^^^\n    ...<7 lines>...\n        bind_arguments=bind_arguments,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 3872, in _get_impl\n    statement = statement.options(*options)\n  File \"<string>\", line 2, in options\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 284, in _generative\n    x = fn(self, *args, **kw)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 1128, in options\n    self._with_options += tuple(\n                          ~~~~~^\n        coercions.expect(roles.ExecutableOptionRole, opt)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        for opt in options\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 1129, in <genexpr>\n    coercions.expect(roles.ExecutableOptionRole, opt)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py\", line 424, in expect\n    return impl._implicit_coercions(\n           ~~~~~~~~~~~~~~~~~~~~~~~~^\n        original_element, resolved, argname=argname, **kw\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py\", line 740, in _implicit_coercions\n    self._raise_for_expected(element, argname, resolved)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py\", line 518, in _raise_for_expected\n    raise exc.ArgumentError(msg, code=code) from err\nsqlalchemy.exc.ArgumentError: ExecutionOption Core or ORM object expected, got <sqlalchemy.sql.elements.BinaryExpression object at 0x79eb5ad8d6d0>."}
{"timestamp": "2025-08-22T08:13:03.260888", "level": "WARNING", "correlation_id": "88f1e2f6-c243-4518-8f4e-ce3e650fafe8", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-22T08:13:03.508746", "level": "INFO", "correlation_id": "88f1e2f6-c243-4518-8f4e-ce3e650fafe8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:03.736513", "level": "INFO", "correlation_id": "1234c553-1a4a-49a7-a862-40c4e3f6e274", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:03.740346", "level": "INFO", "correlation_id": "cf3dc3bd-157e-4291-9cb0-02d4ebcf81a6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-22T08:13:03.971925", "level": "INFO", "correlation_id": "43342545-31dd-46a2-bf60-64fb004af490", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:04.191413", "level": "INFO", "correlation_id": "5bf5be6c-7e6d-42e4-9eff-ac4cfcc04d55", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:04.411427", "level": "INFO", "correlation_id": "9fb19db5-da7c-4937-bc28-87dc71106baf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:04.622593", "level": "INFO", "correlation_id": "5bd2b0e4-d4f0-4b12-8f35-881dc51effc0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:13:04.841644", "level": "INFO", "correlation_id": "915fe618-1047-42ce-8ee1-04dc37f77f62", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:05.053460", "level": "INFO", "correlation_id": "45f35693-5170-4253-91c8-68d1cc33bbb3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:05.057810", "level": "INFO", "correlation_id": "4c95cdc3-85f3-4ef4-92bb-8cf7828059e2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:05.062216", "level": "INFO", "correlation_id": "143a606a-07e4-4b11-99cb-4dad5bef3ae4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:13:05.280941", "level": "INFO", "correlation_id": "e77a624a-85c0-4928-8dcf-8bc7e0f57662", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:05.493787", "level": "INFO", "correlation_id": "e0dd68de-4421-44d2-9dfa-b0fa96ea4b5e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:05.503931", "level": "INFO", "correlation_id": "3e3c988d-167e-4eff-97a7-f8a469f7a928", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:05.719031", "level": "INFO", "correlation_id": "9ab93565-abae-48e9-81e5-b2b9317f1272", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:05.928762", "level": "INFO", "correlation_id": "26324cac-83fd-4220-8969-26f8a1902096", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:06.147302", "level": "INFO", "correlation_id": "45a4ad3e-fafc-4360-9765-9d04b3572cb2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:06.360689", "level": "INFO", "correlation_id": "023b973e-89fd-4129-bf93-02e6707d6073", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:06.769511", "level": "INFO", "correlation_id": "91c183dc-6042-4577-a672-74bb7003fe28", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:06.981457", "level": "INFO", "correlation_id": "48691aad-a2f7-467a-ae45-17554f41fd8b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:07.197174", "level": "INFO", "correlation_id": "b6a08258-3a92-4b4d-9ebd-ba73b82f9779", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:07.407254", "level": "INFO", "correlation_id": "14b46ace-88b9-4bf6-8494-0a02e7b24381", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:07.422100", "level": "INFO", "correlation_id": "1e09daf6-07c6-4990-9f9d-fa5c6494a7da", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:13:07.424733", "level": "INFO", "correlation_id": "f5f0cd92-ec77-4ded-bdbb-2fc0a954fb2f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:13:07.647316", "level": "INFO", "correlation_id": "b293e503-9b33-4d4e-af95-e1e05143e386", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:07.859569", "level": "INFO", "correlation_id": "63ec1c16-5703-45f1-8cae-2ea9bd7b112a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:07.865096", "level": "INFO", "correlation_id": "06f3f4b8-c536-41f7-85f8-f105d53aac90", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-22T08:13:08.084363", "level": "INFO", "correlation_id": "e8aced8a-975f-49d0-9c4f-4b13b07ca3b3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:13:08.299466", "level": "INFO", "correlation_id": "ec66dc70-567d-4286-bca8-b74d0881976f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:13:08.316183", "level": "ERROR", "correlation_id": "618cd658-da3c-48d1-b243-daaae105896b", "logger": "app.logging_config", "module": "main", "line": 37, "message": "Unhandled exception during GET /tasks/068a8269-44cf-7895-8000-5219991082fb", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/middleware.py\", line 13, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/api/task_manager.py\", line 22, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/task_manager/service.py\", line 23, in get_task_by_id\n    task_orm = await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/app/task_manager/repository.py\", line 18, in get_by_id\n    return await self.session.get(Task, task_id, options=[(Task.user_id == user_id)])\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 606, in get\n    return await greenlet_spawn(\n           ^^^^^^^^^^^^^^^^^^^^^\n    ...<8 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 3694, in get\n    return self._get_impl(\n           ~~~~~~~~~~~~~~^\n        entity,\n        ^^^^^^^\n    ...<7 lines>...\n        bind_arguments=bind_arguments,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 3872, in _get_impl\n    statement = statement.options(*options)\n  File \"<string>\", line 2, in options\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 284, in _generative\n    x = fn(self, *args, **kw)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 1128, in options\n    self._with_options += tuple(\n                          ~~~~~^\n        coercions.expect(roles.ExecutableOptionRole, opt)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        for opt in options\n        ^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 1129, in <genexpr>\n    coercions.expect(roles.ExecutableOptionRole, opt)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py\", line 424, in expect\n    return impl._implicit_coercions(\n           ~~~~~~~~~~~~~~~~~~~~~~~~^\n        original_element, resolved, argname=argname, **kw\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py\", line 740, in _implicit_coercions\n    self._raise_for_expected(element, argname, resolved)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py\", line 518, in _raise_for_expected\n    raise exc.ArgumentError(msg, code=code) from err\nsqlalchemy.exc.ArgumentError: ExecutionOption Core or ORM object expected, got <sqlalchemy.sql.elements.BinaryExpression object at 0x71b9d268c4b0>."}
{"timestamp": "2025-08-22T08:19:51.875113", "level": "WARNING", "correlation_id": "48febb9f-f052-44e5-a522-81ab6e2cf2f6", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-22T08:19:52.118374", "level": "INFO", "correlation_id": "48febb9f-f052-44e5-a522-81ab6e2cf2f6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:52.351210", "level": "INFO", "correlation_id": "e14b3c8d-d4b7-4dc8-b712-fcb6f29e5ebe", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:52.355068", "level": "INFO", "correlation_id": "f3f6f45c-1ca6-4764-8156-6583216811c6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-22T08:19:52.575638", "level": "INFO", "correlation_id": "8054af10-17f8-4963-9db4-428bd44f5749", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:52.791222", "level": "INFO", "correlation_id": "afa1b7d8-4e25-47d1-a247-3cf81bd8e036", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:53.017460", "level": "INFO", "correlation_id": "d34cad8a-b82c-4861-a371-74c29bc891f8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:53.238277", "level": "INFO", "correlation_id": "afb8e4c1-5af0-46ac-964f-e5fdc67ef909", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:19:53.464043", "level": "INFO", "correlation_id": "f6248256-0e4d-4acb-88bd-832a1be57268", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:53.684988", "level": "INFO", "correlation_id": "242d88bd-9a13-4a56-af81-8a475c10d9c4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:53.689439", "level": "INFO", "correlation_id": "e4f43ddc-42ce-409d-8d43-d8d4ec7f9755", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:53.693804", "level": "INFO", "correlation_id": "d621ee90-3547-44b7-aa20-08f7cc4c80fb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:19:53.910137", "level": "INFO", "correlation_id": "7c100385-87bc-45a1-b6f1-1f8329a45e67", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:54.125317", "level": "INFO", "correlation_id": "e8b2530c-41c3-40d0-b2e2-c1de34dee7fe", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:54.134867", "level": "INFO", "correlation_id": "85dc1b73-a121-4762-9f7d-7f9a2570f077", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:54.364651", "level": "INFO", "correlation_id": "a052a12f-28ff-4ff2-9957-32ad4bf90312", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:54.587480", "level": "INFO", "correlation_id": "994557d6-6e9b-4398-a703-0f45042a8b28", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:54.799533", "level": "INFO", "correlation_id": "3492c1e6-d330-4b26-825b-5215835187e5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:55.016267", "level": "INFO", "correlation_id": "9222e288-817c-48fb-97b1-bfd1624020f8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:55.023298", "level": "INFO", "correlation_id": "390370d6-dd9e-41e7-b7e6-693a80d37e4c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:55.028414", "level": "INFO", "correlation_id": "39bb15b4-6223-4023-a4f3-badfd67d2216", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:55.032912", "level": "INFO", "correlation_id": "dea744f4-8b3f-4e49-8f41-f84de2786e66", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:55.036858", "level": "INFO", "correlation_id": "5659eea9-fc01-4754-86ae-2897accf00bf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:55.251740", "level": "INFO", "correlation_id": "487c841f-ea07-4e0f-92ee-ea2c075c5289", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:55.462093", "level": "INFO", "correlation_id": "c54b0e3a-f000-477c-b8cb-4cedd97ed76e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:55.678927", "level": "INFO", "correlation_id": "a1ef4d0b-ea46-4ffe-8eee-c6753955b1c8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:55.891809", "level": "INFO", "correlation_id": "21e44983-16c8-4dbc-af46-5bed6a1918e9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:55.898697", "level": "INFO", "correlation_id": "043f435c-66bb-427a-9a5e-d47d45bf1ae1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:55.903370", "level": "INFO", "correlation_id": "516590df-9ae8-442c-ae24-1673f762d525", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/a6ac4803-aba6-411a-b7c1-727264b50e40 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:19:55.908718", "level": "INFO", "correlation_id": "22b6b4e2-d9fb-482c-814f-ae850c1867f0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/a6ac4803-aba6-411a-b7c1-727264b50e40 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:19:55.912589", "level": "INFO", "correlation_id": "754117fc-5f3d-44b5-9a4e-140c7fde7c94", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/a6ac4803-aba6-411a-b7c1-727264b50e40 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:19:55.917934", "level": "INFO", "correlation_id": "a39e29f1-5d29-443f-b0d4-97be1512605a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:19:55.920462", "level": "INFO", "correlation_id": "c4e10764-090b-4004-b57d-8565f4640007", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:19:56.139062", "level": "INFO", "correlation_id": "9f0a7b25-9fdc-4671-899c-0109bfd0138e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:56.351724", "level": "INFO", "correlation_id": "4f24a2af-2c4c-4ede-a148-6ed44e50ec6d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:56.358015", "level": "INFO", "correlation_id": "ba2f2871-af6f-447e-9b2f-8d2ebeba8405", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-22T08:19:56.576500", "level": "INFO", "correlation_id": "eb25860b-d7b0-4e7a-8bbc-d4d4fc02a7db", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:19:56.789081", "level": "INFO", "correlation_id": "9ebd2fe9-78b1-42d1-960f-7084225d3db2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:19:56.795055", "level": "INFO", "correlation_id": "78bc3f66-b664-4365-811e-6efdb194b95e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068a8282-cca4-7bd4-8000-c629a6261ec8 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:21:38.203389+00:00", "level": "WARNING", "correlation_id": "c59920a2-8e16-4173-8d9e-89318ae6d6d3", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-22T08:21:38.456417+00:00", "level": "INFO", "correlation_id": "c59920a2-8e16-4173-8d9e-89318ae6d6d3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:38.694371+00:00", "level": "INFO", "correlation_id": "6f6955e7-4ddd-442c-9d3c-a1d9fdd5694d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:38.698146+00:00", "level": "INFO", "correlation_id": "dad708ef-751b-43ee-96fc-c3b02975a2c7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-22T08:21:38.924152+00:00", "level": "INFO", "correlation_id": "8e06cc7b-8f68-46aa-b25d-9bd00eea9909", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:39.140347+00:00", "level": "INFO", "correlation_id": "3a132c49-fb89-4e2e-9eb9-f6315818d79c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:39.361112+00:00", "level": "INFO", "correlation_id": "bc6ea922-2080-42e8-bfe2-4d49fe6b727d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:39.579768+00:00", "level": "INFO", "correlation_id": "9810b409-e520-43ed-aa19-2cd6e750d789", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:21:39.799194+00:00", "level": "INFO", "correlation_id": "6ac69cc3-2a50-4bcb-9f9b-7996af2e45e1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:40.018255+00:00", "level": "INFO", "correlation_id": "5582a201-d2e3-4e1a-9828-d82eb3fd5d35", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:40.021978+00:00", "level": "INFO", "correlation_id": "37c44c96-05cc-43e9-8890-64e32276255c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:40.026179+00:00", "level": "INFO", "correlation_id": "f9fedad4-26c2-479f-83b5-e2e8e8e64aad", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:21:40.253558+00:00", "level": "INFO", "correlation_id": "46151291-ffe8-492e-99c6-aa730d55dc63", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:40.481955+00:00", "level": "INFO", "correlation_id": "0853939c-9172-4381-9713-81d20b2c0034", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:40.492077+00:00", "level": "INFO", "correlation_id": "425ca49f-45da-47bf-943c-fd3644ad66ba", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:40.720341+00:00", "level": "INFO", "correlation_id": "7298e342-7fff-45c9-8b05-bdb6124576ca", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:40.942005+00:00", "level": "INFO", "correlation_id": "d2fee3a9-15c5-4440-a3c4-3fffab66f8a6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:41.166453+00:00", "level": "INFO", "correlation_id": "0209406e-583e-4842-ab9e-5453055ad99c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:41.392542+00:00", "level": "INFO", "correlation_id": "f42cef3c-fee1-43b4-a042-40c6a023ffd4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:41.399555+00:00", "level": "INFO", "correlation_id": "6cc772d8-d23a-4840-8e07-2734d60967a2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:41.405994+00:00", "level": "INFO", "correlation_id": "cc6b3c78-9587-4000-9b87-42f301f72c0a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:41.411433+00:00", "level": "INFO", "correlation_id": "f6b90068-74d2-42cb-b9c5-391877825bca", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:41.415551+00:00", "level": "INFO", "correlation_id": "a000f235-e456-40d2-91e4-05f279752356", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:41.640934+00:00", "level": "INFO", "correlation_id": "ba491126-12e9-4cea-af80-61a73961fac5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:41.865455+00:00", "level": "INFO", "correlation_id": "5937b205-2ca7-4c60-95f4-234eb99ae8f7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:42.083924+00:00", "level": "INFO", "correlation_id": "19f52119-5a31-481d-8a6d-99e6d73ee69d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:42.306290+00:00", "level": "INFO", "correlation_id": "308c3f92-199d-4f6a-aeee-c14eba933718", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:42.313196+00:00", "level": "INFO", "correlation_id": "91996b32-ec5f-42c6-8cc4-5008b5ad80c9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:42.317927+00:00", "level": "INFO", "correlation_id": "4c8ce091-eec0-4491-a340-e03d69679d2b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/d2da100b-b662-479a-8f4e-ac5a2fe605f4 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:21:42.323563+00:00", "level": "INFO", "correlation_id": "26aa7641-21b4-487a-bd59-94fcf5381526", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/d2da100b-b662-479a-8f4e-ac5a2fe605f4 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:21:42.328395+00:00", "level": "INFO", "correlation_id": "4e91e3d1-ac0a-44b9-970c-12a91a1b2061", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/d2da100b-b662-479a-8f4e-ac5a2fe605f4 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:21:42.337018+00:00", "level": "INFO", "correlation_id": "62a104b0-3e6d-4842-a467-6d51b7d978c0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:21:42.340464+00:00", "level": "INFO", "correlation_id": "f3134546-a60a-42e7-92b9-a23ff855fbec", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:21:42.566475+00:00", "level": "INFO", "correlation_id": "e8311ce5-886f-421a-9f40-6390acdd0c56", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:42.791651+00:00", "level": "INFO", "correlation_id": "5c9d8542-82dd-4d2e-bad3-2c26f605061d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:42.797243+00:00", "level": "INFO", "correlation_id": "29cd0e90-edce-46bf-a9e8-54831778361d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-22T08:21:43.025359+00:00", "level": "INFO", "correlation_id": "ca62d425-1157-475c-b80f-2a0f1e5b6cb4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:21:43.250641+00:00", "level": "INFO", "correlation_id": "59ab1bfe-c987-4d9f-874f-ccf866a6118c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:21:43.256915+00:00", "level": "INFO", "correlation_id": "8f6f5242-9670-43c1-9387-349fa0dcba8e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068a8289-7407-7b4b-8000-3e0922952c21 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:34:17.690477+00:00", "level": "WARNING", "correlation_id": "79fa65ee-7a9c-4234-b8df-ac83b52041fe", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-22T08:34:17.924473+00:00", "level": "INFO", "correlation_id": "79fa65ee-7a9c-4234-b8df-ac83b52041fe", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:18.137550+00:00", "level": "INFO", "correlation_id": "a3503e5f-fe01-418e-8d57-bb56f9fc76f1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:18.141957+00:00", "level": "INFO", "correlation_id": "f88dbebc-204e-4c1d-935c-70b85bd27d2d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-22T08:34:18.355838+00:00", "level": "INFO", "correlation_id": "c2baf226-6ee1-4850-a731-cc0105f8266c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:18.564968+00:00", "level": "INFO", "correlation_id": "b0fa15ae-5a41-46f4-82e0-c730fea83ada", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:18.778314+00:00", "level": "INFO", "correlation_id": "ef6d5d22-6ad7-44bc-932e-7184db404580", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:18.991192+00:00", "level": "INFO", "correlation_id": "e129ad58-b393-46be-bde2-130c06063ccd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:34:19.204087+00:00", "level": "INFO", "correlation_id": "667cbabe-e6b7-40f3-bddf-961a88029080", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:19.412861+00:00", "level": "INFO", "correlation_id": "6498bec9-d0b5-4ac1-8c3f-125e1a9145ad", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:19.415354+00:00", "level": "INFO", "correlation_id": "16302698-bf95-4f84-a351-f82d7357f7bb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:19.417931+00:00", "level": "INFO", "correlation_id": "18d496ea-c88d-4042-a331-e1ce538c3963", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:34:19.631564+00:00", "level": "INFO", "correlation_id": "fe3eb3b7-10e6-45fd-9e8c-94d3738c9dc4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:19.846433+00:00", "level": "INFO", "correlation_id": "976c88a5-673d-4143-8b54-672d265abfaa", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:19.852290+00:00", "level": "INFO", "correlation_id": "81f0514a-9144-4864-8ede-346de151a433", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:20.067533+00:00", "level": "INFO", "correlation_id": "6d19465c-bac4-4482-b043-977f39382f52", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:20.278481+00:00", "level": "INFO", "correlation_id": "1b131e4f-4153-4113-94b2-a92ce9211e1b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:20.492666+00:00", "level": "INFO", "correlation_id": "c0d58bd4-5054-4d5d-95d7-50911b6fc5b8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:20.706424+00:00", "level": "INFO", "correlation_id": "9c4498d3-f06f-49e9-ae99-827928e83b37", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:20.711135+00:00", "level": "INFO", "correlation_id": "e9625104-4ae5-428a-ab86-5c5ec760818b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:20.713989+00:00", "level": "INFO", "correlation_id": "413d2d60-afc0-4866-a4cc-a8fa64b46f79", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:20.716535+00:00", "level": "INFO", "correlation_id": "d6fb190e-f564-4ec5-b124-c2e17e8e4a7a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:20.718802+00:00", "level": "INFO", "correlation_id": "9af5a5a0-b232-49a6-b940-0d25e6b0c67c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:20.940304+00:00", "level": "INFO", "correlation_id": "a39c39c0-aac1-43df-b88c-a532b5f76993", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:21.149754+00:00", "level": "INFO", "correlation_id": "0429fc3b-9a06-4d56-a9c1-390bf3407e90", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:21.371186+00:00", "level": "INFO", "correlation_id": "fefc54b9-50ce-4d85-b60e-3b0947b0ea79", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:21.580015+00:00", "level": "INFO", "correlation_id": "7cd63f56-327b-415b-a0ac-49f753eb1589", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:21.584440+00:00", "level": "INFO", "correlation_id": "36f8f52d-13a3-488b-9216-313fab3a825d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:21.587384+00:00", "level": "INFO", "correlation_id": "93ec97f3-708b-47a7-93b6-036f031b0050", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/34c21284-4955-4d0b-856f-e61d20d7735a \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:34:21.590540+00:00", "level": "INFO", "correlation_id": "d4d99d57-bf36-44fc-a882-2bc667ea4b6d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/34c21284-4955-4d0b-856f-e61d20d7735a \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:34:21.593048+00:00", "level": "INFO", "correlation_id": "359627e5-d1f9-4842-94d8-c1d99d567983", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/34c21284-4955-4d0b-856f-e61d20d7735a \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:34:21.595732+00:00", "level": "INFO", "correlation_id": "7f952a5e-5b5d-4fc0-ada8-de586e062ba8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:34:21.596940+00:00", "level": "INFO", "correlation_id": "6e099a11-23a6-43f4-9948-9fdd8b8c4544", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:34:21.811949+00:00", "level": "INFO", "correlation_id": "3b4f1fee-b7a8-44e9-9579-6aa92faca819", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:22.022986+00:00", "level": "INFO", "correlation_id": "4313b510-1f75-4f73-9f9b-7f5fe3afdf09", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:22.026437+00:00", "level": "INFO", "correlation_id": "103a93e1-3a80-48dc-bd4b-fd6a451e3400", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-22T08:34:22.239413+00:00", "level": "INFO", "correlation_id": "1f43f973-3cf1-4b07-8577-95b3a04cf652", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:22.449011+00:00", "level": "INFO", "correlation_id": "3e302105-2ec1-4c5e-bfe6-96dc5d22cb89", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:22.452611+00:00", "level": "INFO", "correlation_id": "902f1fd8-7673-4688-83e5-7be2fe3200de", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068a82b8-e731-7f15-8000-f124a9c17c7b \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:34:36.794447+00:00", "level": "WARNING", "correlation_id": "da44b8ea-0870-4298-9872-21322b0ac556", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-22T08:34:37.041535+00:00", "level": "INFO", "correlation_id": "da44b8ea-0870-4298-9872-21322b0ac556", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:37.269243+00:00", "level": "INFO", "correlation_id": "c98bbd84-c13d-4c8e-a79b-0ae4342c06ce", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:37.272569+00:00", "level": "INFO", "correlation_id": "37ede47a-cb94-4bb1-ad62-449b2d9ed75d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-22T08:34:37.506887+00:00", "level": "INFO", "correlation_id": "95eba95d-bd70-46d2-8ced-30e37fb37a70", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:37.729607+00:00", "level": "INFO", "correlation_id": "8d16019f-129b-4e37-8694-14ac1183b7dd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:37.946008+00:00", "level": "INFO", "correlation_id": "ed16a5bc-d7ef-4c53-a0a2-7d30df8a8d32", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:38.161235+00:00", "level": "INFO", "correlation_id": "0ce56dbb-b147-4e8b-b035-0b371eb7541b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:34:38.377673+00:00", "level": "INFO", "correlation_id": "5fb0e7a9-c44c-4c7f-bea2-ba5b60f281cf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:38.590215+00:00", "level": "INFO", "correlation_id": "93cedb0e-c676-486e-ada8-5011cf7f536c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:38.594014+00:00", "level": "INFO", "correlation_id": "150bac11-6d83-436b-b2d8-45f25cf3dfd3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:38.598334+00:00", "level": "INFO", "correlation_id": "ac6fa8cb-afc5-495b-96a1-4cffd30d8934", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:34:38.815365+00:00", "level": "INFO", "correlation_id": "6efc9f25-b881-43d7-a55a-250880e8a3c8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:39.029602+00:00", "level": "INFO", "correlation_id": "367f4a6d-705f-402c-b63f-4ac7d0395e5a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:39.039016+00:00", "level": "INFO", "correlation_id": "a48d96aa-6d0c-4340-9b06-fd03d5d336e1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:39.253478+00:00", "level": "INFO", "correlation_id": "221a55b7-4065-4fe7-a096-038397cba9e8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:39.463993+00:00", "level": "INFO", "correlation_id": "ead1527b-ac2a-470c-aa4b-4c594b78b0e3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:39.676208+00:00", "level": "INFO", "correlation_id": "75f64389-636d-4140-acfc-5e9d5665e29a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:39.887443+00:00", "level": "INFO", "correlation_id": "1b023135-0b89-435d-be39-ad182f496cd2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:39.894404+00:00", "level": "INFO", "correlation_id": "8251bc38-31e9-4966-82d5-41fe384ff0a0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:39.899718+00:00", "level": "INFO", "correlation_id": "65da5493-29c5-4f1e-8be3-dfa896e9f061", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:39.904206+00:00", "level": "INFO", "correlation_id": "df2fd721-e6f5-49e3-a176-097f079d0e76", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:39.908144+00:00", "level": "INFO", "correlation_id": "9deadff9-8996-4da0-b213-d18eab8505a8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:40.129436+00:00", "level": "INFO", "correlation_id": "a277d832-034d-4469-8f79-84011c678ccb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:40.340866+00:00", "level": "INFO", "correlation_id": "19e53239-15da-4580-8aa8-10cb7488f179", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:40.553939+00:00", "level": "INFO", "correlation_id": "8fe4e369-3a59-4728-a509-62c13a2a9199", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:40.766321+00:00", "level": "INFO", "correlation_id": "dc3429f1-e284-4f14-8dfb-efd436216c4f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:40.773342+00:00", "level": "INFO", "correlation_id": "420ebcac-7422-4493-9063-83178fe4957d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:40.778046+00:00", "level": "INFO", "correlation_id": "dc3f5974-c5f1-4b06-8101-7a77fa824fe1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/2a2f0447-eba7-4c41-bd67-d1dbd85eb66d \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:34:40.783427+00:00", "level": "INFO", "correlation_id": "f3648510-e3db-4e20-8eb2-a97d21723370", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/2a2f0447-eba7-4c41-bd67-d1dbd85eb66d \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:34:40.787330+00:00", "level": "INFO", "correlation_id": "f95781d2-3fdd-4d0e-8784-646f788b22fe", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/2a2f0447-eba7-4c41-bd67-d1dbd85eb66d \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-22T08:34:40.792894+00:00", "level": "INFO", "correlation_id": "1cb49a46-ac54-4634-8dda-6558965cac54", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:34:40.795411+00:00", "level": "INFO", "correlation_id": "e7029538-0381-4f8b-9f64-7fd256109f48", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-22T08:34:41.015124+00:00", "level": "INFO", "correlation_id": "bcef7297-2e13-4043-9403-c840d513a197", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:41.226418+00:00", "level": "INFO", "correlation_id": "684cef82-99e7-468c-84ed-a24aa5af7b6f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:41.231837+00:00", "level": "INFO", "correlation_id": "bc84a2f4-21d0-49d2-91e8-20bd2adcdbee", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-22T08:34:41.446712+00:00", "level": "INFO", "correlation_id": "8af8f1d4-7c72-4c96-892f-dee9cb7f5555", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-22T08:34:41.657517+00:00", "level": "INFO", "correlation_id": "0c8e1561-b85e-464d-a108-89cd98d6c058", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-22T08:34:41.663254+00:00", "level": "INFO", "correlation_id": "24bbdf67-ab7b-4aa5-9240-854b7b26e016", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068a82ba-1a89-753e-8000-f2c7146eb6c7 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T03:10:42.124785+00:00", "level": "WARNING", "correlation_id": "d064fe59-c14f-4e28-bb96-ce7f7e65d456", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T03:10:42.355725+00:00", "level": "INFO", "correlation_id": "d064fe59-c14f-4e28-bb96-ce7f7e65d456", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:42.572617+00:00", "level": "INFO", "correlation_id": "a7869070-d78b-4072-b134-bd32bbc1ae6e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:42.574799+00:00", "level": "INFO", "correlation_id": "7664b6cc-431f-4fd7-8ffa-212f8b26834a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T03:10:42.787736+00:00", "level": "INFO", "correlation_id": "8e53d17e-2068-4f04-8f8e-ed32dce0ef1c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:42.996495+00:00", "level": "INFO", "correlation_id": "d1b8e2fc-9d5a-4959-b0f6-ca9c7a936efb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:43.209658+00:00", "level": "INFO", "correlation_id": "7a40f21e-789e-4f31-aa49-fe5578d5aa93", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:43.417425+00:00", "level": "INFO", "correlation_id": "4d313911-0851-4dc3-9185-2b9d196d79f7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:10:43.631491+00:00", "level": "INFO", "correlation_id": "0df16de3-8472-4bcc-800e-b1e914465580", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:43.841063+00:00", "level": "INFO", "correlation_id": "0d416ffc-95b8-49d4-97c9-e5f1340e8b43", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:43.843325+00:00", "level": "INFO", "correlation_id": "feb91722-fdbc-4ea0-bf87-c66a770207f2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:43.845918+00:00", "level": "INFO", "correlation_id": "63aebf12-e9e5-4296-8f1b-5faa1dd0a454", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:10:44.060892+00:00", "level": "INFO", "correlation_id": "fa310148-be50-458f-9a0b-37a27f32de58", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:44.270226+00:00", "level": "INFO", "correlation_id": "c1b446b1-0ac4-4995-9c4b-0d885279799f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:44.332995+00:00", "level": "ERROR", "correlation_id": "c5f40d7e-d167-4813-8bce-0792603bff99", "logger": "app.logging_config", "module": "main", "line": 40, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    |     solved_result = await solve_dependencies(\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    |     solved = await run_in_threadpool(call, **solved_result.values)\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    |     return AbstractTaskService(repo)\n    | TypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved = await run_in_threadpool(call, **solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    return AbstractTaskService(repo)\nTypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'"}
{"timestamp": "2025-08-26T03:10:45.050901+00:00", "level": "INFO", "correlation_id": "5e0c0368-fe22-4408-a4f4-f1e203619beb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:45.258867+00:00", "level": "INFO", "correlation_id": "48313ed5-0bda-4917-bc30-c7306578b6e8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:45.467368+00:00", "level": "INFO", "correlation_id": "57ff45e6-1d0f-4776-b425-617b9f5eb8ea", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:45.677845+00:00", "level": "INFO", "correlation_id": "feb217b9-170c-4451-992d-112c5961448b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:45.690645+00:00", "level": "ERROR", "correlation_id": "89644b29-1a4b-4547-8a8b-a4723cd2ab9d", "logger": "app.logging_config", "module": "main", "line": 40, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    |     solved_result = await solve_dependencies(\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    |     solved = await run_in_threadpool(call, **solved_result.values)\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    |     return AbstractTaskService(repo)\n    | TypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved = await run_in_threadpool(call, **solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    return AbstractTaskService(repo)\nTypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'"}
{"timestamp": "2025-08-26T03:10:46.084985+00:00", "level": "INFO", "correlation_id": "7f15c7de-6060-44fd-9e14-87d4530cf2de", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:46.293768+00:00", "level": "INFO", "correlation_id": "4c94b8cf-5861-4697-86ec-ecd2d2c6abbc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:46.503712+00:00", "level": "INFO", "correlation_id": "eb0e701b-5d86-45e3-b741-5a6f68cb9300", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:46.712480+00:00", "level": "INFO", "correlation_id": "f37ecede-dc05-4a74-9da9-a91763d8ba49", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:46.724064+00:00", "level": "ERROR", "correlation_id": "6fff28aa-0253-4395-bdec-8bc508f90499", "logger": "app.logging_config", "module": "main", "line": 40, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    |     solved_result = await solve_dependencies(\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    |     solved = await run_in_threadpool(call, **solved_result.values)\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    |     return AbstractTaskService(repo)\n    | TypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved = await run_in_threadpool(call, **solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    return AbstractTaskService(repo)\nTypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'"}
{"timestamp": "2025-08-26T03:10:46.963458+00:00", "level": "ERROR", "correlation_id": "ae408ee0-0870-4771-96b7-f7bd539735c3", "logger": "app.logging_config", "module": "main", "line": 40, "message": "Unhandled exception during GET /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    |     solved_result = await solve_dependencies(\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    |     solved = await run_in_threadpool(call, **solved_result.values)\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    |     return AbstractTaskService(repo)\n    | TypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved = await run_in_threadpool(call, **solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    return AbstractTaskService(repo)\nTypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'"}
{"timestamp": "2025-08-26T03:10:47.352901+00:00", "level": "INFO", "correlation_id": "a9977539-7438-433f-af02-5414bfa110ba", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:47.563576+00:00", "level": "INFO", "correlation_id": "e753d788-7b83-4374-87d9-007dcb39ac1b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:47.575417+00:00", "level": "ERROR", "correlation_id": "5007181f-478f-47d8-88a8-496233467c7b", "logger": "app.logging_config", "module": "main", "line": 40, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    |     solved_result = await solve_dependencies(\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    |     solved = await run_in_threadpool(call, **solved_result.values)\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    |     return AbstractTaskService(repo)\n    | TypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved = await run_in_threadpool(call, **solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    return AbstractTaskService(repo)\nTypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'"}
{"timestamp": "2025-08-26T03:10:47.958705+00:00", "level": "INFO", "correlation_id": "06431c3a-5e95-4c15-a2d5-e8e317830815", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:10:48.168015+00:00", "level": "INFO", "correlation_id": "7e7b4bff-c45e-410c-b595-4007ab5fba58", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:10:48.179305+00:00", "level": "ERROR", "correlation_id": "4fd92aea-822d-42e5-9334-5e085f792482", "logger": "app.logging_config", "module": "main", "line": 40, "message": "Unhandled exception during GET /tasks/068ad25b-82b3-75f4-8000-e34607c67957", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    |     solved_result = await solve_dependencies(\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    |     solved = await run_in_threadpool(call, **solved_result.values)\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    |     return await anyio.to_thread.run_sync(func)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    |     return await get_async_backend().run_sync_in_worker_thread(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    |     return await future\n    |            ^^^^^^^^^^^^\n    |   File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    |     result = context.run(func, *args)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    |     return AbstractTaskService(repo)\n    | TypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 292, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/fastapi/dependencies/utils.py\", line 640, in solve_dependencies\n    solved = await run_in_threadpool(call, **solved_result.values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/starlette/concurrency.py\", line 38, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 2476, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/dependencies.py\", line 22, in get_task_service\n    return AbstractTaskService(repo)\nTypeError: Can't instantiate abstract class AbstractTaskService without an implementation for abstract methods 'create_task', 'delete_task', 'get_all_tasks', 'get_task_by_id', 'update_task'"}
{"timestamp": "2025-08-26T03:13:21.324384+00:00", "level": "WARNING", "correlation_id": "f5f39f69-8d6d-482d-9e71-2a56422f11c8", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T03:13:21.556815+00:00", "level": "INFO", "correlation_id": "f5f39f69-8d6d-482d-9e71-2a56422f11c8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:21.769916+00:00", "level": "INFO", "correlation_id": "db4b6ace-d9ca-46ca-aecd-f2a9bb20efeb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:21.772589+00:00", "level": "INFO", "correlation_id": "074b418f-6e8c-4e4d-8c5b-361643df561b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T03:13:21.988913+00:00", "level": "INFO", "correlation_id": "ac2f32d9-5c08-449a-b34c-cd1fb22e8614", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:22.200963+00:00", "level": "INFO", "correlation_id": "aac156a3-1713-47db-a9df-1341f20ec30a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:22.419328+00:00", "level": "INFO", "correlation_id": "557be1a6-e9e4-446c-bbe8-77e9bcc070c0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:22.641217+00:00", "level": "INFO", "correlation_id": "baebdcf7-f846-433b-b154-b1ed124b92e2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:13:22.853082+00:00", "level": "INFO", "correlation_id": "c3887bbb-51e9-4780-89d7-0f44bce8455b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:23.065797+00:00", "level": "INFO", "correlation_id": "42b454f0-1406-44d3-82bb-03efbf805683", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:23.068214+00:00", "level": "INFO", "correlation_id": "c41bf434-73a4-4072-a9db-931b04ce33cd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:23.070924+00:00", "level": "INFO", "correlation_id": "807f447c-392e-419c-ace6-c487fa79af0d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:13:23.296548+00:00", "level": "INFO", "correlation_id": "d825fa67-4561-4748-b777-2f5be105071c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:23.516821+00:00", "level": "INFO", "correlation_id": "76e0254d-41e4-4c71-a423-d73151110016", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:23.523195+00:00", "level": "INFO", "correlation_id": "de0f3646-f93d-402f-85a2-9447c496882b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:23.746154+00:00", "level": "INFO", "correlation_id": "5b610b44-5f5b-4581-82d8-18fe857f9f3c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:23.964614+00:00", "level": "INFO", "correlation_id": "e76d4cb7-deb6-4893-b007-77775f88c7f3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:24.179977+00:00", "level": "INFO", "correlation_id": "fad303e5-4220-4cf1-bbd3-1cd7a3c4bfb4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:24.389227+00:00", "level": "INFO", "correlation_id": "a440e9f5-fa3b-42bb-97bb-c1e53bffef5f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:24.393603+00:00", "level": "INFO", "correlation_id": "2db83aaf-9130-42b9-8bdf-508fe7685cf3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:24.396505+00:00", "level": "INFO", "correlation_id": "69324372-7465-430e-a439-7d1314fb9fc7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:24.399122+00:00", "level": "INFO", "correlation_id": "82472b3a-1568-48c8-a55d-a0c0b0096b7c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:24.401438+00:00", "level": "INFO", "correlation_id": "b175c215-0da8-41ea-8165-cdfa51efdd76", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:24.617485+00:00", "level": "INFO", "correlation_id": "a8cca057-3ca6-4281-a4dd-e93d999c6b0d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:24.825986+00:00", "level": "INFO", "correlation_id": "9a535002-f744-4d26-b1eb-73c1fa5a983a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:25.038880+00:00", "level": "INFO", "correlation_id": "2d5eef56-5b18-4065-9420-43fbe9fe6037", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:25.249100+00:00", "level": "INFO", "correlation_id": "d397b6ad-fafa-41dc-bc82-b50dfb965e1c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:25.253233+00:00", "level": "INFO", "correlation_id": "4da2d20c-bcc4-4326-97cd-7319c65a876e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:25.255909+00:00", "level": "INFO", "correlation_id": "c067a284-2732-496d-91bb-f92cc71d16dc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/1bedc874-ce49-4679-abf7-7f4cf7cabaaa \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T03:13:25.258792+00:00", "level": "INFO", "correlation_id": "9c2e0e4c-6da2-4bda-a0c6-7b57d2f17276", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/1bedc874-ce49-4679-abf7-7f4cf7cabaaa \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T03:13:25.261236+00:00", "level": "INFO", "correlation_id": "581357ce-add8-49b1-a5c5-4aecec781842", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/1bedc874-ce49-4679-abf7-7f4cf7cabaaa \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T03:13:25.263886+00:00", "level": "INFO", "correlation_id": "4f32adb7-68b4-41ec-b1fb-40725f6ba14d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:13:25.265022+00:00", "level": "INFO", "correlation_id": "62a775c0-ba8e-42a4-80cd-ac17d7d50c78", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:13:25.478005+00:00", "level": "INFO", "correlation_id": "0683500e-d449-462c-be6d-9a511efe8f11", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:25.689629+00:00", "level": "INFO", "correlation_id": "72064f78-76a6-4339-b415-5d7b95167960", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:25.693077+00:00", "level": "INFO", "correlation_id": "1b8c12c5-bed5-42d0-9cc0-a641600481e6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T03:13:25.904519+00:00", "level": "INFO", "correlation_id": "ca8b6bff-3298-452f-9ba3-47fdc95ca793", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:13:26.115170+00:00", "level": "INFO", "correlation_id": "0e0f4e88-db21-4699-9f5c-abc6cfc7ac94", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:13:26.119151+00:00", "level": "INFO", "correlation_id": "c1663f81-d22d-4451-bb21-3af2fd7bd27c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068ad265-61da-7f6e-8000-d90cdd264275 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T03:19:08.712201+00:00", "level": "WARNING", "correlation_id": "8c240cad-88ee-4d8d-9cd6-81565ccef929", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Programming_projects/\u0420\u0430\u0431\u043e\u0442\u04302025/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T03:19:08.944230+00:00", "level": "INFO", "correlation_id": "8c240cad-88ee-4d8d-9cd6-81565ccef929", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:09.159941+00:00", "level": "INFO", "correlation_id": "50298d74-6ae4-4113-b4f0-41d7093c166a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:09.162839+00:00", "level": "INFO", "correlation_id": "78184a59-35a6-4d31-9fe1-ff160340904b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T03:19:09.382383+00:00", "level": "INFO", "correlation_id": "aefe8bfb-401f-4d20-aec4-12594f989456", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:09.592911+00:00", "level": "INFO", "correlation_id": "91ada948-7959-4359-9ec0-bcc5b1baebcf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:09.807300+00:00", "level": "INFO", "correlation_id": "7e0c180c-bd85-4c8e-8b6b-f0b91cce072f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:10.018062+00:00", "level": "INFO", "correlation_id": "0c428d00-2984-4eb1-b3a2-2670ea8d7ba4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:19:10.231504+00:00", "level": "INFO", "correlation_id": "f4a0abf4-d4ae-4355-a008-3f7b8bac7e31", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:10.439515+00:00", "level": "INFO", "correlation_id": "1eb51f34-f4d0-4c2a-b7e5-4f8ad8cfe237", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:10.441643+00:00", "level": "INFO", "correlation_id": "b6dabac6-1e61-4e76-9b62-4a663617dd6a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:10.444147+00:00", "level": "INFO", "correlation_id": "ac7ae961-268c-482e-9f92-807c282cc1a9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:19:10.660686+00:00", "level": "INFO", "correlation_id": "64fc872f-9a45-4a37-abc1-ca4c85c763c6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:10.868738+00:00", "level": "INFO", "correlation_id": "4727dff7-e392-47af-85d5-5c3824eb3d8b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:10.874634+00:00", "level": "INFO", "correlation_id": "e223ae18-18a8-4d94-b75f-d5cee8a56f72", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:11.086817+00:00", "level": "INFO", "correlation_id": "a06d43c2-0b79-4290-af1d-2b857d0537bc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:11.296835+00:00", "level": "INFO", "correlation_id": "54e717fe-e23d-4763-83dc-40e6ca3ba17e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:11.505820+00:00", "level": "INFO", "correlation_id": "9afe2021-0b73-44ff-bd4f-cbbc66fdf638", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:11.716693+00:00", "level": "INFO", "correlation_id": "f4da5752-305d-4051-804d-7dad4434dfbf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:11.722176+00:00", "level": "INFO", "correlation_id": "be91b821-6c9a-4f46-b1c9-beed452c8c6d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:11.725357+00:00", "level": "INFO", "correlation_id": "c3c8881d-e101-4fb7-b3f7-cf01bb9f108f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:11.728051+00:00", "level": "INFO", "correlation_id": "a2a1ae0c-470d-45b1-a0f1-22be7a716311", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:11.730296+00:00", "level": "INFO", "correlation_id": "fbddc459-61ad-41ef-ae6d-05692352d6d1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:11.943416+00:00", "level": "INFO", "correlation_id": "d2c890bd-82a7-4808-afb4-3093e90ce85f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:12.153605+00:00", "level": "INFO", "correlation_id": "11cbbc4e-9d09-414e-a344-4abadfe29503", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:12.363533+00:00", "level": "INFO", "correlation_id": "864a66c9-b08f-44ec-8e25-c183da4872a6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:12.575157+00:00", "level": "INFO", "correlation_id": "6c999bfa-13b3-4c79-822b-8de5c95c01e0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:12.579285+00:00", "level": "INFO", "correlation_id": "072a1d57-3ec5-410b-b101-a75e7e76b452", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:12.582011+00:00", "level": "INFO", "correlation_id": "6accf13f-02e5-4b24-9af1-4cf894ff2327", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/99c3e8bd-fac6-4d98-8692-c88e2215fa06 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T03:19:12.585020+00:00", "level": "INFO", "correlation_id": "40d47688-a765-4d40-8f9e-dcf773208959", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/99c3e8bd-fac6-4d98-8692-c88e2215fa06 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T03:19:12.587913+00:00", "level": "INFO", "correlation_id": "fc768bfc-c865-4149-8188-57daf445b12a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/99c3e8bd-fac6-4d98-8692-c88e2215fa06 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T03:19:12.590649+00:00", "level": "INFO", "correlation_id": "064d369d-3964-4306-9783-84ae4ca662ac", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:19:12.591778+00:00", "level": "INFO", "correlation_id": "b06ef0a9-c300-4c27-8c61-7df08c9f6fca", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T03:19:12.804761+00:00", "level": "INFO", "correlation_id": "cf881d0d-a915-4aa9-a447-ee7a3c826291", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:13.016688+00:00", "level": "INFO", "correlation_id": "faedcabb-223e-4f16-a786-c389a9345cb8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:13.020161+00:00", "level": "INFO", "correlation_id": "52655a74-7cc0-4a21-aeea-78b9fe84aaa8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T03:19:13.231998+00:00", "level": "INFO", "correlation_id": "4a689a7c-354d-4f37-9e19-34ea10f028e4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T03:19:13.439423+00:00", "level": "INFO", "correlation_id": "8d350d6a-6f55-4513-8549-5608121bc88d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T03:19:13.442809+00:00", "level": "INFO", "correlation_id": "29e9402b-8bef-4dd5-acb3-33862935183d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068ad27b-170a-77ca-8000-ef5da23f33fa \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:04:18.143055+00:00", "level": "WARNING", "correlation_id": "e6c9b8bb-98a2-4b86-b687-78ee5454d82a", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:04:18.380441+00:00", "level": "INFO", "correlation_id": "e6c9b8bb-98a2-4b86-b687-78ee5454d82a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:18.595573+00:00", "level": "INFO", "correlation_id": "3b221491-2be8-48d0-9df8-d04d3fdca20a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:18.598135+00:00", "level": "INFO", "correlation_id": "d9c640b9-fe40-48de-80d0-7c0fce3824c3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:04:18.809383+00:00", "level": "INFO", "correlation_id": "fa6ba29a-e414-49b8-962b-a0d627dbb869", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:18.823851+00:00", "level": "ERROR", "correlation_id": "5c3dc518-bdcf-4376-9864-60306bbe3b2a", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/login", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    |     user = await service.authenticate_user(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         UserLogin(email=form_data.username, password=form_data.password)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    |     if not user or not user.verify_password(login_data.password):\n    |                        ^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'verify_password'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    user = await service.authenticate_user(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        UserLogin(email=form_data.username, password=form_data.password)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    if not user or not user.verify_password(login_data.password):\n                       ^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'verify_password'"}
{"timestamp": "2025-08-26T04:04:19.495819+00:00", "level": "INFO", "correlation_id": "4b17ed63-5cf6-485e-b634-020f0666591b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:19.508403+00:00", "level": "ERROR", "correlation_id": "1e2211a2-1a32-40b3-8e9d-6d23e6d022ef", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/login", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    |     user = await service.authenticate_user(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         UserLogin(email=form_data.username, password=form_data.password)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    |     if not user or not user.verify_password(login_data.password):\n    |                        ^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'verify_password'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    user = await service.authenticate_user(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        UserLogin(email=form_data.username, password=form_data.password)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    if not user or not user.verify_password(login_data.password):\n                       ^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'verify_password'"}
{"timestamp": "2025-08-26T04:04:19.869015+00:00", "level": "INFO", "correlation_id": "6de1f4b1-38aa-4527-8fb4-5bdb49bb2982", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:19.881500+00:00", "level": "ERROR", "correlation_id": "8b770307-e837-463e-85d3-f6cb2ee6d825", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/login", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    |     user = await service.authenticate_user(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         UserLogin(email=form_data.username, password=form_data.password)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    |     if not user or not user.verify_password(login_data.password):\n    |                        ^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'verify_password'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    user = await service.authenticate_user(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        UserLogin(email=form_data.username, password=form_data.password)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    if not user or not user.verify_password(login_data.password):\n                       ^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'verify_password'"}
{"timestamp": "2025-08-26T04:04:20.028750+00:00", "level": "INFO", "correlation_id": "5162dbd3-6d97-4d68-8aff-96c9742899dd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:04:20.240914+00:00", "level": "INFO", "correlation_id": "8747f56d-bc55-424d-944e-83098ec94714", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:20.252616+00:00", "level": "ERROR", "correlation_id": "990d04cf-c8dc-40b3-be5e-0bb0b624f15f", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/login", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    |     user = await service.authenticate_user(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         UserLogin(email=form_data.username, password=form_data.password)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    |     if not user or not user.verify_password(login_data.password):\n    |                        ^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'verify_password'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    user = await service.authenticate_user(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        UserLogin(email=form_data.username, password=form_data.password)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    if not user or not user.verify_password(login_data.password):\n                       ^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'verify_password'"}
{"timestamp": "2025-08-26T04:04:20.670973+00:00", "level": "INFO", "correlation_id": "9cf146bf-9895-4e5f-8cf2-20a4b7311880", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:20.683021+00:00", "level": "ERROR", "correlation_id": "3f275e67-5f3f-4f32-8ca4-98bfb791523d", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/login", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    |     user = await service.authenticate_user(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         UserLogin(email=form_data.username, password=form_data.password)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    |     if not user or not user.verify_password(login_data.password):\n    |                        ^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'verify_password'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    user = await service.authenticate_user(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        UserLogin(email=form_data.username, password=form_data.password)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    if not user or not user.verify_password(login_data.password):\n                       ^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'verify_password'"}
{"timestamp": "2025-08-26T04:04:21.092499+00:00", "level": "INFO", "correlation_id": "fb7f47ee-97e3-4867-b39c-94d0cdf6187d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:21.104311+00:00", "level": "ERROR", "correlation_id": "7cbe7229-53e4-486d-b4c6-ff5395775bbf", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/login", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    |     user = await service.authenticate_user(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         UserLogin(email=form_data.username, password=form_data.password)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    |     if not user or not user.verify_password(login_data.password):\n    |                        ^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'verify_password'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    user = await service.authenticate_user(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        UserLogin(email=form_data.username, password=form_data.password)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    if not user or not user.verify_password(login_data.password):\n                       ^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'verify_password'"}
{"timestamp": "2025-08-26T04:04:21.269760+00:00", "level": "INFO", "correlation_id": "7fe4c077-7054-4ad7-8fb0-3e31b51fb929", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:04:21.271092+00:00", "level": "INFO", "correlation_id": "edddb40c-8c4e-41d8-a30e-d30fe177e276", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:04:21.486705+00:00", "level": "INFO", "correlation_id": "244d24dd-e7f3-41c9-9cae-3d5804503e4d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:21.499159+00:00", "level": "ERROR", "correlation_id": "617884b4-f8f0-430e-97d6-5b27d83e11ed", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/login", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    |     user = await service.authenticate_user(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         UserLogin(email=form_data.username, password=form_data.password)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    |     if not user or not user.verify_password(login_data.password):\n    |                        ^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'verify_password'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    user = await service.authenticate_user(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        UserLogin(email=form_data.username, password=form_data.password)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    if not user or not user.verify_password(login_data.password):\n                       ^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'verify_password'"}
{"timestamp": "2025-08-26T04:04:21.866660+00:00", "level": "INFO", "correlation_id": "860bbbb2-c862-48c9-84fb-f8d450f2eaa8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:04:21.879796+00:00", "level": "ERROR", "correlation_id": "396e544c-97af-4435-8e11-df380add2bff", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/login", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    |     user = await service.authenticate_user(\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         UserLogin(email=form_data.username, password=form_data.password)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    |     if not user or not user.verify_password(login_data.password):\n    |                        ^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'verify_password'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 25, in login\n    user = await service.authenticate_user(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        UserLogin(email=form_data.username, password=form_data.password)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 43, in authenticate_user\n    if not user or not user.verify_password(login_data.password):\n                       ^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'verify_password'"}
{"timestamp": "2025-08-26T04:08:23.513571+00:00", "level": "WARNING", "correlation_id": "1e58bc55-7219-414f-bb2d-a0d8ac87165a", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:08:23.746464+00:00", "level": "INFO", "correlation_id": "1e58bc55-7219-414f-bb2d-a0d8ac87165a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:23.963516+00:00", "level": "INFO", "correlation_id": "d5975b8b-30e3-4cfe-a888-1ac1494572cb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:23.966050+00:00", "level": "INFO", "correlation_id": "9b4a0cec-1a68-4911-83b1-da0dd1187ebb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:08:24.190103+00:00", "level": "INFO", "correlation_id": "3de70dd4-6d95-486d-8b96-34812e338f8d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:24.409109+00:00", "level": "INFO", "correlation_id": "a040c827-564d-4e12-886f-6f8cd8e89692", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:24.624593+00:00", "level": "INFO", "correlation_id": "744586b4-bf03-477f-b7af-1594052251b5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:24.842445+00:00", "level": "INFO", "correlation_id": "073402e6-3345-49b8-aeb1-44097bdbf88f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:08:25.058327+00:00", "level": "INFO", "correlation_id": "22a4e14c-19da-4c1c-8430-e756ae1c3780", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:25.268675+00:00", "level": "INFO", "correlation_id": "2599c9c1-71b6-4598-8553-e10bdfea593a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:25.271113+00:00", "level": "INFO", "correlation_id": "bd932fd2-e2dd-4cab-bed9-bb23b3cf32f5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:25.273697+00:00", "level": "INFO", "correlation_id": "2925a09b-864b-4e38-9eab-1abc8f0f36c3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:08:25.486504+00:00", "level": "INFO", "correlation_id": "e6ae9cd8-b354-42f2-b8b3-0c881151df68", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:25.696220+00:00", "level": "INFO", "correlation_id": "4ba6493c-f5ef-4a1d-8ba4-11b9a23cd8b0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:25.702442+00:00", "level": "INFO", "correlation_id": "07b83774-6bf3-404d-b84d-4b218f9e324d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:25.917283+00:00", "level": "INFO", "correlation_id": "f21781ff-fa26-4704-98b4-4dbbb71f2ce4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:26.127143+00:00", "level": "INFO", "correlation_id": "4b137651-4fef-4e05-aedd-3103ad8f3b40", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:26.337356+00:00", "level": "INFO", "correlation_id": "cc121d2b-8bba-42be-a800-e1b709e22a22", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:26.550945+00:00", "level": "INFO", "correlation_id": "e36f94b3-1e3d-4720-8b37-0842efb66bfc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:26.557764+00:00", "level": "INFO", "correlation_id": "ac52fb2c-c4ec-41a9-b55d-b29a872a15d2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:26.560684+00:00", "level": "INFO", "correlation_id": "2d013d07-602c-44d6-bec6-22f1228ec9f1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:26.563167+00:00", "level": "INFO", "correlation_id": "bec0980c-3a90-459b-9c02-caffc2341767", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:26.565325+00:00", "level": "INFO", "correlation_id": "8d8ab7f9-18a1-4642-af50-83312ce135d9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:26.778222+00:00", "level": "INFO", "correlation_id": "64e5f4a2-c2c7-45c3-ae0d-9e0df213584d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:26.990053+00:00", "level": "INFO", "correlation_id": "f15cb9bb-448b-4b74-b4ea-9078a896d625", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:27.200983+00:00", "level": "INFO", "correlation_id": "197b201a-36d2-4f9f-9f3d-64dc6362e970", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:27.408944+00:00", "level": "INFO", "correlation_id": "e65b0583-7203-426b-81b1-b2e5c475ca96", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:27.413202+00:00", "level": "INFO", "correlation_id": "8fc3b389-9ad9-4537-b132-80006bb8a490", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:27.415816+00:00", "level": "INFO", "correlation_id": "731a4b2f-3e5a-4423-8299-c68d309353ec", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/850d8cff-0491-4aec-8f86-b9659b205de4 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:08:27.430229+00:00", "level": "ERROR", "correlation_id": "ac7be981-0a8d-49a2-b1e4-423d732d1206", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during PUT /tasks/850d8cff-0491-4aec-8f86-b9659b205de4", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 41, in update_task\n    |     return await service.update_task(task_id, update, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 55, in update_task\n    |     return await self.repository.update(task_id, user_id, update_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 78, in update\n    |     setattr(task_orm, key, value)\n    |     ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n    | AttributeError: 'coroutine' object has no attribute 'title' and no __dict__ for setting new attributes\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 41, in update_task\n    return await service.update_task(task_id, update, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 55, in update_task\n    return await self.repository.update(task_id, user_id, update_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 78, in update\n    setattr(task_orm, key, value)\n    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'coroutine' object has no attribute 'title' and no __dict__ for setting new attributes"}
{"timestamp": "2025-08-26T04:08:27.891313+00:00", "level": "INFO", "correlation_id": "86227d78-f53e-4787-8811-264f6bc6eee0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:08:27.892649+00:00", "level": "INFO", "correlation_id": "e89c956c-ba41-4e27-8c63-aa87a28c2c49", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:08:28.111467+00:00", "level": "INFO", "correlation_id": "074a2111-f8be-4413-9884-46110368fdeb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:28.319931+00:00", "level": "INFO", "correlation_id": "817e6398-8200-4eb6-a5f4-8bcea17e20fc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:28.323351+00:00", "level": "INFO", "correlation_id": "52190fe3-ec37-4f7f-a585-d091d7d5521d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:08:28.540860+00:00", "level": "INFO", "correlation_id": "0b1d1455-ca7b-4495-a2e0-35d59016607c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:08:28.749324+00:00", "level": "INFO", "correlation_id": "7b544cfc-4130-4119-a1fa-7f79054f33c7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:08:28.753031+00:00", "level": "INFO", "correlation_id": "2e52ce6f-b17a-4de5-a247-aa1ee417013c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068ad333-cc00-7e40-8000-cd93deacd1fb \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:09:16.523693+00:00", "level": "WARNING", "correlation_id": "00c9b80c-f5cd-4639-a634-424f81771076", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:09:16.766442+00:00", "level": "INFO", "correlation_id": "00c9b80c-f5cd-4639-a634-424f81771076", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:16.995480+00:00", "level": "INFO", "correlation_id": "bb045f5b-671c-4b5f-80b3-4f6845f1dc90", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:16.998166+00:00", "level": "INFO", "correlation_id": "c6a7aaa1-8956-44e8-b9f5-c24b03516c19", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:09:17.218813+00:00", "level": "INFO", "correlation_id": "aad2201e-ae12-4251-b01b-9fa8fe913606", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:17.449188+00:00", "level": "INFO", "correlation_id": "775b8b71-2489-48b0-9332-0add9ef42373", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:17.680610+00:00", "level": "INFO", "correlation_id": "d97fc41c-9422-4447-bd23-ef4fa5d543cb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:17.905545+00:00", "level": "INFO", "correlation_id": "2e02326c-556d-4307-be1b-c288368b7990", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:09:18.137343+00:00", "level": "INFO", "correlation_id": "53f6d4d0-e0af-4a66-b686-cdb103573754", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:18.358675+00:00", "level": "INFO", "correlation_id": "bb046d31-0844-4a77-92e6-7e772752d96b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:18.361354+00:00", "level": "INFO", "correlation_id": "6906f8bc-5912-415a-b36e-ed168b08577a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:18.363885+00:00", "level": "INFO", "correlation_id": "6dd59da8-a737-4f7c-a347-f853a56cbddd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:09:18.585531+00:00", "level": "INFO", "correlation_id": "29e51914-c0f0-48b2-a266-3da258cc585d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:18.807157+00:00", "level": "INFO", "correlation_id": "5abb398b-eb3b-4738-a117-ed5050d96ef6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:18.813348+00:00", "level": "INFO", "correlation_id": "612ceaba-3ea6-40d5-9076-62c2409c61ef", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:19.027364+00:00", "level": "INFO", "correlation_id": "66da85c8-56d0-4d9f-a0c2-7f2ba73f3748", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:19.238267+00:00", "level": "INFO", "correlation_id": "1f168a83-f97c-41d0-9f45-68bc0263db92", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:19.448487+00:00", "level": "INFO", "correlation_id": "46120fe6-b9f0-4181-a465-eeaa082772d3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:19.670096+00:00", "level": "INFO", "correlation_id": "f764bec7-15fb-4c79-b8a6-68ae0b1f1eb4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:19.674788+00:00", "level": "INFO", "correlation_id": "c2482e5c-4631-497d-9602-bb74b2c09b8f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:19.677823+00:00", "level": "INFO", "correlation_id": "cf33c00a-c0d4-4118-a64c-0ad8868eec89", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:19.680432+00:00", "level": "INFO", "correlation_id": "d3e09729-536f-44ae-9fce-d4c74766712d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:19.682853+00:00", "level": "INFO", "correlation_id": "894e0523-4bb5-4066-87fa-b3fdc3325d83", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:19.899454+00:00", "level": "INFO", "correlation_id": "be27fa87-6306-451c-8aa0-885aa7754dc2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:20.110909+00:00", "level": "INFO", "correlation_id": "9e92fe53-2fc3-4386-a7a3-9de2e8c7e02a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:20.319045+00:00", "level": "INFO", "correlation_id": "cdc4af62-20d2-4a6e-8fd2-dab29509506c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:20.530409+00:00", "level": "INFO", "correlation_id": "29accd1a-1a13-4769-939d-1fb33b0fdb6a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:20.534625+00:00", "level": "INFO", "correlation_id": "5fa8e01d-9c53-40aa-976a-b2f21e714561", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:20.537289+00:00", "level": "INFO", "correlation_id": "cf0ce075-945c-4dcc-9b65-4d10e3f85ee2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/b74da990-13cd-402f-8ae2-c29b43cf85d9 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:09:20.550752+00:00", "level": "ERROR", "correlation_id": "539c249b-2411-41b1-9771-c39cff057c5c", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during PUT /tasks/b74da990-13cd-402f-8ae2-c29b43cf85d9", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 41, in update_task\n    |     return await service.update_task(task_id, update, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 55, in update_task\n    |     return await self.repository.update(task_id, user_id, update_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 78, in update\n    |     setattr(task_orm, key, value)\n    |     ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n    | AttributeError: 'coroutine' object has no attribute 'title' and no __dict__ for setting new attributes\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 41, in update_task\n    return await service.update_task(task_id, update, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 55, in update_task\n    return await self.repository.update(task_id, user_id, update_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 78, in update\n    setattr(task_orm, key, value)\n    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'coroutine' object has no attribute 'title' and no __dict__ for setting new attributes"}
{"timestamp": "2025-08-26T04:09:20.998209+00:00", "level": "INFO", "correlation_id": "cae4ce71-8261-4f59-80d9-c8319c187723", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:09:20.999611+00:00", "level": "INFO", "correlation_id": "65f7d0fc-754d-428c-913f-ab167522efeb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:09:21.216238+00:00", "level": "INFO", "correlation_id": "801b834f-ac6b-458c-ad9b-f2f89d3d8dc1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:21.427980+00:00", "level": "INFO", "correlation_id": "db08202c-2a7d-4aa4-ab97-70e44fdb8c5b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:21.431175+00:00", "level": "INFO", "correlation_id": "cad8f248-4c8f-43fa-b318-e9b4ba2ddb2b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:09:21.651001+00:00", "level": "INFO", "correlation_id": "75d65db8-38f6-4c13-b1e3-9dd161e60b56", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:09:21.860821+00:00", "level": "INFO", "correlation_id": "423049a4-475b-4113-857c-a3f93ac9cd63", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:09:21.864319+00:00", "level": "INFO", "correlation_id": "d8f94622-cd88-4530-8865-d92023d6141a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068ad337-1dc8-7777-8000-ee5d8b1724d6 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:11:38.550569+00:00", "level": "WARNING", "correlation_id": "6ac11670-5818-4d51-9574-8a2bde737224", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:11:38.781923+00:00", "level": "INFO", "correlation_id": "6ac11670-5818-4d51-9574-8a2bde737224", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:39.003523+00:00", "level": "INFO", "correlation_id": "75017de2-42a7-4ce5-8c3a-e421b5c2a9c3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:39.006665+00:00", "level": "INFO", "correlation_id": "afa872a6-cbb1-48dc-a6f5-e8629c79eda0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:11:39.227185+00:00", "level": "INFO", "correlation_id": "744dab72-8992-42c8-88be-f4bc523ab0a4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:39.438489+00:00", "level": "INFO", "correlation_id": "1bcdde4e-59a1-40bc-8696-a6ef62b9dd9b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:39.656050+00:00", "level": "INFO", "correlation_id": "bae4eff0-9ad8-42fb-84c2-45a810ce13b2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:39.870018+00:00", "level": "INFO", "correlation_id": "a66a5eaa-6c5b-45ea-8adf-f21d17e3572d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:11:40.086144+00:00", "level": "INFO", "correlation_id": "fd808c0b-c21f-4fdc-ab3f-4cdfb8f9d35b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:40.293772+00:00", "level": "INFO", "correlation_id": "11c605c5-6522-4d5c-880a-18a2304d8efc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:40.296153+00:00", "level": "INFO", "correlation_id": "039d5a23-4ea4-4cad-8cbb-2f418c3f8793", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:40.298904+00:00", "level": "INFO", "correlation_id": "08df6b93-6664-4ea6-96d3-58f5140dc763", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:11:40.512382+00:00", "level": "INFO", "correlation_id": "8706a1a5-cb4d-4c84-9b81-0718ac390596", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:40.720627+00:00", "level": "INFO", "correlation_id": "e962a475-47f8-49d9-ab2c-26e2df9dd1dc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:40.726925+00:00", "level": "INFO", "correlation_id": "d6228f07-3d24-49fa-8648-2e5629c35b22", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:40.944726+00:00", "level": "INFO", "correlation_id": "b0fd1b0e-a0e5-482c-8ad6-29a51c9bc66f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:41.160468+00:00", "level": "INFO", "correlation_id": "117b7e96-8b5c-4fb6-92b1-e53474c8eabc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:41.371911+00:00", "level": "INFO", "correlation_id": "9e901d9f-a8c4-46c8-b4ee-f7062f3fcacd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:41.581576+00:00", "level": "INFO", "correlation_id": "74617093-6a3e-4275-a6e8-fa3bc7322dde", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:41.586255+00:00", "level": "INFO", "correlation_id": "2b720156-ce73-46da-806d-ad4a27311305", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:41.589020+00:00", "level": "INFO", "correlation_id": "ce937fdd-1991-4e59-ad04-7d8171d04ce7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:41.591423+00:00", "level": "INFO", "correlation_id": "f14f0b88-3532-48f1-96b4-069ac1e8e6a1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:41.593442+00:00", "level": "INFO", "correlation_id": "8d73bd3b-f888-4b24-adde-75b3f872bcf1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:41.804510+00:00", "level": "INFO", "correlation_id": "7588b88f-a87f-4fbc-97a0-0134e17b40a3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:42.019076+00:00", "level": "INFO", "correlation_id": "7e5243ca-1a6f-45bd-876b-3cb6820e0459", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:42.227965+00:00", "level": "INFO", "correlation_id": "fb1235a7-33a1-4e04-8945-31e81bcffef8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:42.436150+00:00", "level": "INFO", "correlation_id": "c866ae9b-a52a-4b7c-bd4a-429caf73898f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:42.440694+00:00", "level": "INFO", "correlation_id": "a9dcdbad-169b-4cd8-8a75-dd29a8d8fc1a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:42.453316+00:00", "level": "ERROR", "correlation_id": "1f5b1598-c968-4933-a95c-3d750146d2fd", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/76a2da20-782e-4bce-9042-dc0312b20487", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:11:42.889810+00:00", "level": "INFO", "correlation_id": "dd762847-ddb4-42fa-8946-a21480d8be08", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:11:42.891040+00:00", "level": "INFO", "correlation_id": "5638ea30-cf66-4044-8d97-d63c05069226", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:11:43.107337+00:00", "level": "INFO", "correlation_id": "1b9b8401-9d13-4577-b202-a25042990185", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:43.319684+00:00", "level": "INFO", "correlation_id": "9ea4ad5a-7dc3-463b-8b83-9ae6e75a5778", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:43.323021+00:00", "level": "INFO", "correlation_id": "e9b73283-ed36-45b9-8ed8-4d072d172f3b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:11:43.539896+00:00", "level": "INFO", "correlation_id": "e8f4fff7-d966-4727-a071-4746ac07cfbb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:11:43.748802+00:00", "level": "INFO", "correlation_id": "0d873169-b66b-4418-906c-92020b412d40", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:11:43.760836+00:00", "level": "ERROR", "correlation_id": "845abe62-a084-4a84-a00a-3dfb3abb9f20", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad33f-fbfe-7855-8000-df56cba2c67f", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:12:00.483825+00:00", "level": "WARNING", "correlation_id": "74400343-0f6f-4433-8cd3-d30139674a71", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:12:00.722039+00:00", "level": "INFO", "correlation_id": "74400343-0f6f-4433-8cd3-d30139674a71", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:00.946937+00:00", "level": "INFO", "correlation_id": "143784d4-54e6-49bf-a786-333cd788042c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:00.949649+00:00", "level": "INFO", "correlation_id": "d5d2ea21-b9de-4ef9-b1e3-1bad50bda3e3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:12:01.174190+00:00", "level": "INFO", "correlation_id": "07b7af93-2e0f-4313-a99e-26450a6cb862", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:01.387474+00:00", "level": "INFO", "correlation_id": "348ae4fb-c7bc-46e1-918a-ac48c301f37c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:01.609379+00:00", "level": "INFO", "correlation_id": "736cc9c6-af32-4d50-ab25-f662c1cb8610", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:01.822381+00:00", "level": "INFO", "correlation_id": "413bb8be-68e4-49b6-8a2d-d242cd42943e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:12:02.036895+00:00", "level": "INFO", "correlation_id": "07528c22-370f-4b6d-bae5-20012ce3c37e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:02.250326+00:00", "level": "INFO", "correlation_id": "68e3fccb-5ec1-4091-9b1e-0066096d03ff", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:02.252498+00:00", "level": "INFO", "correlation_id": "775b9397-f9c3-4e87-af4d-980894e0bed7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:02.254995+00:00", "level": "INFO", "correlation_id": "36a4999a-ad3a-41aa-a7a7-d927abe4f84b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:12:02.466176+00:00", "level": "INFO", "correlation_id": "b47c89e2-4c91-45d8-97c6-642d4cdb1497", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:02.676513+00:00", "level": "INFO", "correlation_id": "9857c522-140a-4452-8648-43f69c38375d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:02.682692+00:00", "level": "INFO", "correlation_id": "7a8a0d50-5190-4712-a900-5a46895ede26", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:02.897174+00:00", "level": "INFO", "correlation_id": "41fb026f-371a-4973-a67e-e7658453c096", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:03.112045+00:00", "level": "INFO", "correlation_id": "822aa032-d029-42b1-92de-e95203db73b2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:03.325840+00:00", "level": "INFO", "correlation_id": "c06ba236-0001-4262-8d7e-7907f513a502", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:03.547116+00:00", "level": "INFO", "correlation_id": "b15197a5-3f6d-41f8-8dd0-5db757281392", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:03.552308+00:00", "level": "INFO", "correlation_id": "a8bb1c00-2138-490a-9da6-fededdabd924", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:03.555256+00:00", "level": "INFO", "correlation_id": "18f179ed-a21d-4384-b176-55c45582bade", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:03.558010+00:00", "level": "INFO", "correlation_id": "8d0be3d6-08fc-4d36-a5cf-8ddd2e1b1742", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:03.560766+00:00", "level": "INFO", "correlation_id": "da973a2c-2fb8-4fe4-9688-b9a873794918", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:03.775113+00:00", "level": "INFO", "correlation_id": "07e9ba2c-f5d4-46da-8ce7-123186d326b9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:03.988510+00:00", "level": "INFO", "correlation_id": "333046d4-3081-4775-ab62-79f715e0639d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:04.204715+00:00", "level": "INFO", "correlation_id": "64dcebc0-5b36-4fec-81af-85b08161dc34", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:04.420690+00:00", "level": "INFO", "correlation_id": "c7503204-8fd9-4f6a-9671-01f8fdb40bed", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:04.425145+00:00", "level": "INFO", "correlation_id": "953d38f2-b7f3-46c4-91aa-6137c4cb1e8e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:04.439946+00:00", "level": "ERROR", "correlation_id": "4cfe3807-572a-4722-a082-f46aba6124a9", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/1409eb9f-e508-47bb-aa30-03c6c21db84d", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:12:04.951019+00:00", "level": "INFO", "correlation_id": "7801234a-886a-449d-b1ea-fc3b3d150384", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:12:04.952767+00:00", "level": "INFO", "correlation_id": "b9197cd7-a0ab-4bb5-99b4-b8dfcb1352f7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:12:05.174368+00:00", "level": "INFO", "correlation_id": "71453ace-81ba-425f-bc31-ddac28a60ac5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:05.387433+00:00", "level": "INFO", "correlation_id": "358d7a32-4ee6-4651-9d6b-07d5c55b77e8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:05.390763+00:00", "level": "INFO", "correlation_id": "1088a2ec-de43-437a-98d0-b6df3cfe51db", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:12:05.607574+00:00", "level": "INFO", "correlation_id": "472a3217-98ee-43b7-b313-ad322b95214d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:12:05.816448+00:00", "level": "INFO", "correlation_id": "3bba0c1c-cf39-4777-8a84-58f9aea4afaf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:12:05.828165+00:00", "level": "ERROR", "correlation_id": "92ec62b9-0661-4a39-b9c0-1930e6617635", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad341-5d13-78ec-8000-b3356715439c", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:13:02.495083+00:00", "level": "WARNING", "correlation_id": "55d150d0-0984-4d49-a393-8e75db274506", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:13:02.742100+00:00", "level": "INFO", "correlation_id": "55d150d0-0984-4d49-a393-8e75db274506", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:02.971631+00:00", "level": "INFO", "correlation_id": "f2a6d711-030f-477d-8e10-a50a57adf708", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:02.974691+00:00", "level": "INFO", "correlation_id": "daed95b2-4325-4656-a2f3-bd261670a49e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:13:03.204691+00:00", "level": "INFO", "correlation_id": "153a19ea-e374-44f8-9655-14011358a9e5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:03.430337+00:00", "level": "INFO", "correlation_id": "ea8012a0-2e09-4b65-89cf-d399fe381768", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:03.658607+00:00", "level": "INFO", "correlation_id": "01aae8cb-69a7-42d0-976c-7704b2f31871", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:03.885364+00:00", "level": "INFO", "correlation_id": "7e2ca9d6-e7a1-47aa-9556-2aae1bf42f5b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:13:04.114855+00:00", "level": "INFO", "correlation_id": "875bf846-4f01-46b3-99fa-efb0ada787a0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:04.339550+00:00", "level": "INFO", "correlation_id": "e83c2568-9c48-4ed7-8238-1739011894ba", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:04.342903+00:00", "level": "INFO", "correlation_id": "2fc4afb5-49e6-4220-befd-f75e8423fc43", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:04.346899+00:00", "level": "INFO", "correlation_id": "8fd3a659-c49f-4a6b-ad16-e644a1e7f5c8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:13:04.579394+00:00", "level": "INFO", "correlation_id": "1d69b560-739b-4fe3-9ee8-39603a660263", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:04.808932+00:00", "level": "INFO", "correlation_id": "d5ef4e62-de1e-42d8-b35e-b2e3db5767f5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:04.815267+00:00", "level": "INFO", "correlation_id": "2499d848-6bb6-4cfc-b85a-513adddb7b1d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:05.043059+00:00", "level": "INFO", "correlation_id": "4ae88d1f-0f45-470e-83be-cc3729f75e13", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:05.270260+00:00", "level": "INFO", "correlation_id": "17a83d5c-a543-415e-afa0-21c094c34146", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:05.497863+00:00", "level": "INFO", "correlation_id": "efa7765f-c832-4604-9757-84c27806d61a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:05.722564+00:00", "level": "INFO", "correlation_id": "bc59d9f9-18a6-4a2e-abed-bfea9eca27d3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:05.727267+00:00", "level": "INFO", "correlation_id": "dbc4e7aa-1419-4b9d-aae7-7c5a3afcabd1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:05.730217+00:00", "level": "INFO", "correlation_id": "40d99fb0-39a2-487f-99ea-89d935e8743f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:05.732769+00:00", "level": "INFO", "correlation_id": "d972bee3-416c-4b1b-b69b-ec6590b49157", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:05.734900+00:00", "level": "INFO", "correlation_id": "e3fdcdf4-412c-4123-aec8-2ae8a67c4936", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:05.958534+00:00", "level": "INFO", "correlation_id": "f3f1b972-dc3d-49c6-92f4-394a2158f2dd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:06.184222+00:00", "level": "INFO", "correlation_id": "e1c2111c-7c8e-4bb9-8308-059a8808ad92", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:06.409569+00:00", "level": "INFO", "correlation_id": "0805d864-0b51-4d28-b525-feae49bbd045", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:06.634938+00:00", "level": "INFO", "correlation_id": "3e2795fb-cefa-43e1-bd13-e84730bfb7ab", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:06.639464+00:00", "level": "INFO", "correlation_id": "d00fca69-4098-42f2-b8c8-3d4a3f74bf6c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:06.653838+00:00", "level": "ERROR", "correlation_id": "d9ec4ce2-51e0-47b6-b7ef-8a8677975202", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/15d60614-5a85-4e1b-af76-84f9bdfc0fd1", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:13:07.164858+00:00", "level": "INFO", "correlation_id": "5c8bf5a2-6930-448c-ae80-bb611118364f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:13:07.166344+00:00", "level": "INFO", "correlation_id": "b00c379a-ccb1-4e9e-a3ef-49439399797c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:13:07.395709+00:00", "level": "INFO", "correlation_id": "c99b4a63-9ebb-486d-90e0-19746b217e74", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:07.622058+00:00", "level": "INFO", "correlation_id": "dc3f464d-6da4-4e85-877a-b2ee595ed7d2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:07.625831+00:00", "level": "INFO", "correlation_id": "70aff4db-0ba9-43ff-9ba6-e7a390f15530", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:13:07.854151+00:00", "level": "INFO", "correlation_id": "60e49e58-b4cd-4527-a5de-8c14cc282ad2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:08.080720+00:00", "level": "INFO", "correlation_id": "5832d5cf-a20f-41e7-8391-d0e37e9801b1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:08.093149+00:00", "level": "ERROR", "correlation_id": "d3988645-7edf-4a61-8a11-60e4cde2bc35", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad345-414d-7ae7-8000-1a8c7516e052", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:13:23.415275+00:00", "level": "WARNING", "correlation_id": "a923c21a-d16c-44b2-89ff-b3963d304256", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:13:23.649141+00:00", "level": "INFO", "correlation_id": "a923c21a-d16c-44b2-89ff-b3963d304256", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:23.866202+00:00", "level": "INFO", "correlation_id": "32c6bfdd-b81e-44f0-9896-bb2c4ff63f44", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:23.869320+00:00", "level": "INFO", "correlation_id": "4fae6886-57b8-4843-b8dc-e069f219f8c9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:13:24.088802+00:00", "level": "INFO", "correlation_id": "05065d2d-9b1f-4b5f-946a-426be7029136", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:24.298043+00:00", "level": "INFO", "correlation_id": "8c68d630-2f2c-470b-bac7-4fa256a7c697", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:24.520438+00:00", "level": "INFO", "correlation_id": "0a6d4e90-dc87-429e-9027-875b48f65b2f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:24.731954+00:00", "level": "INFO", "correlation_id": "ec56e446-d1ba-41f3-8929-553030751f92", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:13:24.947147+00:00", "level": "INFO", "correlation_id": "4d5e3318-cf49-481a-8a1e-d2702e690bd0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:25.159818+00:00", "level": "INFO", "correlation_id": "eaaa61d4-6819-46d1-b4b0-a6932f9d5346", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:25.162106+00:00", "level": "INFO", "correlation_id": "95631e37-840b-4cf6-934a-8fbfb2793f91", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:25.164789+00:00", "level": "INFO", "correlation_id": "fd6f5df5-79c6-4231-b236-79e51b6f2e39", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:13:25.377547+00:00", "level": "INFO", "correlation_id": "8fb72384-350d-400c-a91e-a0427b585138", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:25.595811+00:00", "level": "INFO", "correlation_id": "c157cf53-1512-4e11-8092-365c5702234b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:25.601875+00:00", "level": "INFO", "correlation_id": "9ca44be8-e485-4af1-aa49-d37e5ec3a4a2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:25.814179+00:00", "level": "INFO", "correlation_id": "0453366c-2347-4f57-9e82-d60546538885", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:26.026258+00:00", "level": "INFO", "correlation_id": "01cc5a9e-d82e-4337-bf73-68e84bb1766b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:26.238044+00:00", "level": "INFO", "correlation_id": "db2c76c0-bf70-4a0c-9fd0-55730a2b67d5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:26.448314+00:00", "level": "INFO", "correlation_id": "3dd77728-7119-4e2a-a920-2609f7be5ee9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:26.453264+00:00", "level": "INFO", "correlation_id": "d2de7dcf-cfec-4ddd-95f6-00877d9968b1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:26.456266+00:00", "level": "INFO", "correlation_id": "e8bb8978-da7c-47b2-84d3-d67c96454630", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:26.458941+00:00", "level": "INFO", "correlation_id": "c0bbf9ea-70b6-4bf4-879c-17d4bf0bf566", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:26.461347+00:00", "level": "INFO", "correlation_id": "3a23fa94-458c-4be7-8526-8110e609a327", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:26.674128+00:00", "level": "INFO", "correlation_id": "aa6086a7-5890-4405-97f5-45d579c4011d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:26.883118+00:00", "level": "INFO", "correlation_id": "45c1458f-6b92-4546-b71e-f6c351cdd5a9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:27.092990+00:00", "level": "INFO", "correlation_id": "29441b62-74cd-4480-a9b6-71f254442c56", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:27.308484+00:00", "level": "INFO", "correlation_id": "6618d2e3-f529-4642-bec5-5e79a1422c15", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:27.312886+00:00", "level": "INFO", "correlation_id": "2aa2722a-7cee-4adc-954a-5a0831f82f77", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:27.325864+00:00", "level": "ERROR", "correlation_id": "95eed487-3a78-4bfa-8392-840a0a093e28", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/c78a1eed-1014-4519-b90c-55126b2dfb34", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:13:27.761492+00:00", "level": "INFO", "correlation_id": "feb5523d-c6a2-43b3-be89-ea486fada538", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:13:27.762859+00:00", "level": "INFO", "correlation_id": "9a597a22-e233-4803-a002-0d2f08536ec9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:13:27.978514+00:00", "level": "INFO", "correlation_id": "faac9fe0-3fa8-4507-b11a-6f9e7f61d17b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:28.201309+00:00", "level": "INFO", "correlation_id": "9acf1e35-a6d4-40f7-a30d-085b2994790e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:28.204596+00:00", "level": "INFO", "correlation_id": "c30a92bf-cba3-4bcd-b83a-c2f2b389d270", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:13:28.420343+00:00", "level": "INFO", "correlation_id": "e08d3a13-0117-4bea-aed7-8ae2ee4a5a5d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:13:28.633837+00:00", "level": "INFO", "correlation_id": "f9816f9a-faa5-4fd8-9705-ad51524a9c69", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:13:28.645400+00:00", "level": "ERROR", "correlation_id": "375fc425-bc0f-48cd-8c86-e405d6d4438a", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad346-8a26-7dda-8000-42afd4b00084", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:14:50.077752+00:00", "level": "WARNING", "correlation_id": "ca814228-2e93-48d5-9d92-db0f2f94744f", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:14:50.311481+00:00", "level": "INFO", "correlation_id": "ca814228-2e93-48d5-9d92-db0f2f94744f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:50.525657+00:00", "level": "INFO", "correlation_id": "a3a9c341-6c98-4fc5-8164-11190083517a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:50.528394+00:00", "level": "INFO", "correlation_id": "b6d5da5c-14ab-4da9-b5f6-ad9de3a1729f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:14:50.746856+00:00", "level": "INFO", "correlation_id": "263f05f0-7f63-40b3-8777-1f102721a3fc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:50.957926+00:00", "level": "INFO", "correlation_id": "46192664-0f35-4dee-a099-155c6ea6557d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:51.174826+00:00", "level": "INFO", "correlation_id": "4608c716-468f-4f57-8a5e-eef11ddb875b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:51.386439+00:00", "level": "INFO", "correlation_id": "7a6496c3-eb82-4bb9-8ae4-436f8eb1b366", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:14:51.606059+00:00", "level": "INFO", "correlation_id": "2eb16c59-2b42-4e70-9edc-875efffc8267", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:51.822586+00:00", "level": "INFO", "correlation_id": "4971dddf-49b3-4c51-a56f-cb7cd4159563", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:51.825119+00:00", "level": "INFO", "correlation_id": "adec42bb-1365-499f-afb0-388fd7662fe6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:51.827848+00:00", "level": "INFO", "correlation_id": "99023141-6955-4948-8da4-0c1cab5898a8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:14:52.041168+00:00", "level": "INFO", "correlation_id": "561c4cfa-1160-452f-92ea-45cc2e15a812", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:52.252908+00:00", "level": "INFO", "correlation_id": "5f809221-4e5d-4609-84b5-9b526a137b65", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:52.258776+00:00", "level": "INFO", "correlation_id": "f4617bdc-dbf1-484c-a8dd-3eabd8e97e7b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:52.470666+00:00", "level": "INFO", "correlation_id": "dd1c3f74-a839-4558-9b05-20f381950b09", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:52.681926+00:00", "level": "INFO", "correlation_id": "5e0720d7-4998-4748-9c0f-69f79fe5b665", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:52.893575+00:00", "level": "INFO", "correlation_id": "fb37f9e2-b45f-47dd-b46e-062e6b7f28de", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:53.105276+00:00", "level": "INFO", "correlation_id": "feb956a7-8c06-462b-a072-3391d32ad9c5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:53.110132+00:00", "level": "INFO", "correlation_id": "32fd0471-0ef8-4920-a68f-dbb501932481", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:53.112937+00:00", "level": "INFO", "correlation_id": "5d87c336-e955-47c9-bc4b-6e317a98b3c1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:53.115443+00:00", "level": "INFO", "correlation_id": "f55be50c-6a7f-4e65-99b1-3f30c6c12b64", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:53.117823+00:00", "level": "INFO", "correlation_id": "c6a13454-10ca-4c8f-bd24-cfe09f83d8af", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:53.330881+00:00", "level": "INFO", "correlation_id": "28c5ff1d-ee7a-47fa-a0d5-c42298c04b6e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:53.543087+00:00", "level": "INFO", "correlation_id": "71b1d65e-a309-4ed4-9bb1-1e98633f31e2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:53.755406+00:00", "level": "INFO", "correlation_id": "316d3651-9cf3-4317-9e4c-e93e1731164f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:53.964869+00:00", "level": "INFO", "correlation_id": "08f8fbde-c103-4f59-90e3-baece88040ae", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:53.969560+00:00", "level": "INFO", "correlation_id": "22290d1c-3de5-40b8-8767-05c734783ae4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:53.982398+00:00", "level": "ERROR", "correlation_id": "6976860b-5838-4ee9-93c6-694a5006bb13", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/00aa3a47-7965-4f25-88f3-71ae1d7a247a", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:14:54.452166+00:00", "level": "INFO", "correlation_id": "6a9dbe70-371f-4c38-a055-9ad3a0360591", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:14:54.453476+00:00", "level": "INFO", "correlation_id": "856dc1cc-1754-49a5-973e-244199402ca5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:14:54.668679+00:00", "level": "INFO", "correlation_id": "ce45f0bc-43e4-46b9-9686-f94a309baca2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:54.882452+00:00", "level": "INFO", "correlation_id": "18b37fa5-0827-4ec4-8082-fce07663484b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:54.885933+00:00", "level": "INFO", "correlation_id": "a1fdcae2-22b3-4148-9cde-4595bcd0cd7c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:14:55.100735+00:00", "level": "INFO", "correlation_id": "2ff95c11-2965-4a34-823a-5c8872095cdf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:14:55.309244+00:00", "level": "INFO", "correlation_id": "474db789-e0df-4ef0-8dd5-4fc1572c3334", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:14:55.320921+00:00", "level": "ERROR", "correlation_id": "750764f8-02b3-4a3e-9ecc-957ae6bde635", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad34b-f4f5-7b77-8000-f01d9ea6c69a", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    |     return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    |     TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    |     ^^^^^^^^^^\n    | AttributeError: type object 'Task' has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/service.py\", line 47, in get_task_by_id\n    return await self.repository.get_by_id(task_id=task_id, user_id=user_id)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/task_manager/repository.py\", line 56, in get_by_id\n    TaskORM.id == task_id,  # \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: Task -> TaskORM\n    ^^^^^^^^^^\nAttributeError: type object 'Task' has no attribute 'id'"}
{"timestamp": "2025-08-26T04:17:03.361403+00:00", "level": "WARNING", "correlation_id": "3949242d-90d2-4468-a5f9-887fd9cb1463", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:17:03.591302+00:00", "level": "INFO", "correlation_id": "3949242d-90d2-4468-a5f9-887fd9cb1463", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:03.807698+00:00", "level": "INFO", "correlation_id": "912e5341-8ab4-45ee-be69-bfaec2c6fb7b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:03.810346+00:00", "level": "INFO", "correlation_id": "0a9c1acd-1ca7-4186-a770-12c63556be2d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:17:04.026620+00:00", "level": "INFO", "correlation_id": "4f519c85-6955-4ad0-8f69-8717a8a4763c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:04.239023+00:00", "level": "INFO", "correlation_id": "75dae104-6a4a-42bd-8894-b87c00523753", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:04.453205+00:00", "level": "INFO", "correlation_id": "19c4c651-ae5a-47a4-a506-8385b0df33e5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:04.663139+00:00", "level": "INFO", "correlation_id": "32ebeccb-6b2d-4e4a-9ec3-e8ff50d7f7a7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:17:04.877954+00:00", "level": "INFO", "correlation_id": "f092bbdb-1d35-4897-8a3d-1ec2485b0269", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:05.089378+00:00", "level": "INFO", "correlation_id": "1599137a-3c42-4c55-8882-2e6645422d49", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:05.091789+00:00", "level": "INFO", "correlation_id": "4f7447c1-e904-41b6-9912-903bde1c9857", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:05.094439+00:00", "level": "INFO", "correlation_id": "5d34462c-2d16-4ea3-9e95-2333ea250341", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:17:05.307026+00:00", "level": "INFO", "correlation_id": "5d7123f5-8ef5-4c92-b1a2-42aca4c2bbdc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:05.516769+00:00", "level": "INFO", "correlation_id": "7e66ad2d-521a-4240-92c9-11bebdd1392b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:05.522881+00:00", "level": "INFO", "correlation_id": "b19a5717-f3dd-4c88-93a9-e44dbaab9fc0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:05.734538+00:00", "level": "INFO", "correlation_id": "507c9497-4b99-4540-8442-e173ab4ed67a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:05.944835+00:00", "level": "INFO", "correlation_id": "11cee009-14a1-43b1-b805-531453ca32f8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:06.158309+00:00", "level": "INFO", "correlation_id": "16c7eac8-6337-4449-b326-3623b2fe8352", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:06.368091+00:00", "level": "INFO", "correlation_id": "4f364043-4653-4a29-99c6-da9958d5cbc7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:06.373524+00:00", "level": "INFO", "correlation_id": "29539c59-c950-4e99-a7a4-01cc7f6be8ad", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:06.376725+00:00", "level": "INFO", "correlation_id": "8061d790-f4b5-4f93-9a1c-9121dd142d1d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:06.379144+00:00", "level": "INFO", "correlation_id": "b1654290-401a-44e8-be8e-0cf39bfa2936", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:06.381177+00:00", "level": "INFO", "correlation_id": "869ed0b1-05bb-4ae7-b6d6-fd0b8e4f6fb2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:06.595178+00:00", "level": "INFO", "correlation_id": "58689d11-822e-4e0f-8e90-381acc80986f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:06.802618+00:00", "level": "INFO", "correlation_id": "1509d147-0970-46c8-a893-1be892159180", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:07.011739+00:00", "level": "INFO", "correlation_id": "a8e38c42-5558-4a58-a46e-d8cea40972ea", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:07.222489+00:00", "level": "INFO", "correlation_id": "51f5d7a9-98ab-49f9-9eb5-74087aa06dd1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:07.226688+00:00", "level": "INFO", "correlation_id": "485763cd-6b49-4128-8ea3-c508d11b2d52", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:07.239480+00:00", "level": "ERROR", "correlation_id": "54d33242-e0e8-4e8a-9c53-d056269c8e2a", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/6bf15f1f-e7d4-40d4-8438-57d448e5bdb1", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 328, in app\n    |     content = await serialize_response(\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<9 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 177, in serialize_response\n    |     raise ResponseValidationError(\n    |         errors=_normalize_errors(errors), body=response_content\n    |     )\n    | fastapi.exceptions.ResponseValidationError: 1 validation errors:\n    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}\n    | \n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 328, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 177, in serialize_response\n    raise ResponseValidationError(\n        errors=_normalize_errors(errors), body=response_content\n    )\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}\n"}
{"timestamp": "2025-08-26T04:17:07.678085+00:00", "level": "INFO", "correlation_id": "e0275f61-6caf-4f63-b818-084919877f27", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:17:07.679392+00:00", "level": "INFO", "correlation_id": "185cc183-1aaa-4ccf-9c29-7bfd2ebba0cb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:17:07.893190+00:00", "level": "INFO", "correlation_id": "b723b0b7-ed6d-4d7b-ae3c-1802171612e2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:08.103637+00:00", "level": "INFO", "correlation_id": "46d4a78c-d5df-489c-99a5-87e0a0cf585a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:08.107424+00:00", "level": "INFO", "correlation_id": "f25d63aa-f5f3-49ee-9ac1-d8f87877f6fe", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:17:08.321152+00:00", "level": "INFO", "correlation_id": "bd02e7e4-156d-4c00-be6b-90b867b5c1ed", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:17:08.530356+00:00", "level": "INFO", "correlation_id": "9e250821-da4d-4d18-9b20-0c8e522dc96b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:17:08.541273+00:00", "level": "ERROR", "correlation_id": "80d2516d-93aa-4b70-a8d8-57e7f2e41f2f", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad354-487f-7f3c-8000-0b8e2350fa88", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 328, in app\n    |     content = await serialize_response(\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<9 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 177, in serialize_response\n    |     raise ResponseValidationError(\n    |         errors=_normalize_errors(errors), body=response_content\n    |     )\n    | fastapi.exceptions.ResponseValidationError: 1 validation errors:\n    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}\n    | \n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 328, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 177, in serialize_response\n    raise ResponseValidationError(\n        errors=_normalize_errors(errors), body=response_content\n    )\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}\n"}
{"timestamp": "2025-08-26T04:20:53.677510+00:00", "level": "ERROR", "correlation_id": "af8f4955-5eff-42a2-93ff-825224e28673", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    |     mapper._post_configure_properties()\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    |     prop.init()\n    |     ~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    |     self.do_init()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    |     self._setup_entity()\n    |     ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    |     raise sa_exc.ArgumentError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.ArgumentError: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    raise sa_exc.ArgumentError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.ArgumentError: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:54.558737+00:00", "level": "ERROR", "correlation_id": "c903bf30-61e2-42f0-9970-5629d5091b18", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:55.074164+00:00", "level": "ERROR", "correlation_id": "c9c58718-3c51-4cbc-9b99-6fd932fac0a1", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:55.612841+00:00", "level": "ERROR", "correlation_id": "4135a564-935b-4157-a834-e8f8a2e17a34", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:56.140752+00:00", "level": "ERROR", "correlation_id": "5fa82c4d-3ab5-41ce-94cc-3de3f1cbc070", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:56.625156+00:00", "level": "INFO", "correlation_id": "8e4a2f7d-7cca-46d6-93d1-e2e47d1e14ba", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:20:56.648603+00:00", "level": "ERROR", "correlation_id": "b002e291-9f9a-4b44-b536-90b50d790373", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:57.198923+00:00", "level": "ERROR", "correlation_id": "cba748e0-22c8-4dfe-b7dd-4073d1ada939", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:57.734267+00:00", "level": "ERROR", "correlation_id": "931d6879-b59b-4a58-bfce-70404bfddeca", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:58.254747+00:00", "level": "INFO", "correlation_id": "eff9958d-3162-466b-900c-e815c1f84b9c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:20:58.256009+00:00", "level": "INFO", "correlation_id": "91951345-98dc-4283-83b6-17d37f76bebc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:20:58.279166+00:00", "level": "ERROR", "correlation_id": "4d6ff9b6-e947-475d-9760-5fbfe4056e0a", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:58.814772+00:00", "level": "ERROR", "correlation_id": "8bf6035b-a078-433c-b757-7fb2b425bd99", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:20:59.443872+00:00", "level": "WARNING", "correlation_id": "N/A", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:22:55.788175+00:00", "level": "ERROR", "correlation_id": "525a3bd2-5c10-4b6d-a23b-f79901688779", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    |     mapper._post_configure_properties()\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    |     prop.init()\n    |     ~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    |     self.do_init()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    |     self._setup_entity()\n    |     ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    |     raise sa_exc.ArgumentError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.ArgumentError: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    raise sa_exc.ArgumentError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.ArgumentError: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:22:56.693359+00:00", "level": "ERROR", "correlation_id": "60226db1-3e4d-4f13-a239-354fca09017c", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:22:57.208066+00:00", "level": "ERROR", "correlation_id": "0009d73f-5021-41a1-8637-45696c5efd70", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:22:57.743096+00:00", "level": "ERROR", "correlation_id": "c8942c5b-efe5-46a7-85d7-3d3ae7117388", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:22:58.271332+00:00", "level": "ERROR", "correlation_id": "785153a1-6152-4747-8a7b-1626e53b5da6", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:22:58.887781+00:00", "level": "INFO", "correlation_id": "0182c31a-2198-446d-8c82-d19379423a1e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:22:58.917849+00:00", "level": "ERROR", "correlation_id": "6ca5b69b-fec7-4d6f-86fd-0696a1c7a1af", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:22:59.543986+00:00", "level": "ERROR", "correlation_id": "775c1e86-d752-42fa-adae-9a2363db6c95", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:00.170961+00:00", "level": "ERROR", "correlation_id": "9e4fce57-e675-45e2-b530-0d3c2ca4f73c", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:00.746472+00:00", "level": "INFO", "correlation_id": "89082f38-9dd9-4545-bab5-815d278457ee", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:23:00.747784+00:00", "level": "INFO", "correlation_id": "b9dfcff5-c4d3-484a-a233-4d938a462d05", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:23:00.773754+00:00", "level": "ERROR", "correlation_id": "7c5e6957-b0fa-4007-856e-98f96a1e9c5c", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:01.302083+00:00", "level": "ERROR", "correlation_id": "50ba4d41-483b-4793-ae6a-6eff09eb5a67", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:01.936275+00:00", "level": "WARNING", "correlation_id": "N/A", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:23:21.601006+00:00", "level": "ERROR", "correlation_id": "6be1659b-9bcf-4bbb-bb6a-473e89828f0f", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    |     mapper._post_configure_properties()\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    |     prop.init()\n    |     ~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    |     self.do_init()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    |     self._setup_entity()\n    |     ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    |     raise sa_exc.ArgumentError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.ArgumentError: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    raise sa_exc.ArgumentError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.ArgumentError: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:22.467494+00:00", "level": "ERROR", "correlation_id": "69a06ed8-ce95-4cb8-9528-a9477a1b81df", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:22.975613+00:00", "level": "ERROR", "correlation_id": "09181d62-efc3-43e1-8bbf-bdbd9ca32586", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:23.518600+00:00", "level": "ERROR", "correlation_id": "c1038799-df81-434d-a183-3296c92dbd6e", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:24.072609+00:00", "level": "ERROR", "correlation_id": "fc4e024f-5fc3-44b8-9e4b-4da590632160", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:24.585495+00:00", "level": "INFO", "correlation_id": "cee3d6b5-8270-4eeb-8f5e-ca03fe509eb2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:23:24.608468+00:00", "level": "ERROR", "correlation_id": "d1fbc2f3-5d79-488a-9892-7913f5ccb204", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:25.184871+00:00", "level": "ERROR", "correlation_id": "508b7f25-71d6-4440-b814-9ebf6c794f39", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:25.722498+00:00", "level": "ERROR", "correlation_id": "a440b180-62b3-40a6-9c29-4b3c3ce9dd1b", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:26.254713+00:00", "level": "INFO", "correlation_id": "43acd394-dc71-43d4-b69e-56b6e62590a8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:23:26.256206+00:00", "level": "INFO", "correlation_id": "85ffb266-4662-4559-afbf-a16f5a687f61", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:23:26.279444+00:00", "level": "ERROR", "correlation_id": "19e66ccb-3ece-4cb0-9b67-9742f1ece0f4", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:26.815520+00:00", "level": "ERROR", "correlation_id": "805aaf0e-d1d9-434c-816a-8772fd5714cd", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:23:27.432461+00:00", "level": "WARNING", "correlation_id": "N/A", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:24:02.314633+00:00", "level": "ERROR", "correlation_id": "4ce7c3a6-3053-4885-a8b2-75e65215580c", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    |     mapper._post_configure_properties()\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    |     prop.init()\n    |     ~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    |     self.do_init()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    |     self._setup_entity()\n    |     ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    |     raise sa_exc.ArgumentError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.ArgumentError: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    raise sa_exc.ArgumentError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.ArgumentError: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:03.227600+00:00", "level": "ERROR", "correlation_id": "4042b044-3b9e-49e1-8677-9d75b93a7e87", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:03.759245+00:00", "level": "ERROR", "correlation_id": "8b2b2918-2730-4173-9ec7-2012f3723434", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:04.312631+00:00", "level": "ERROR", "correlation_id": "ccafa4cf-d8da-447d-99c1-3af627696ce7", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:04.847826+00:00", "level": "ERROR", "correlation_id": "ed6fb426-a3fd-40f9-9ab2-3ca53dd844ff", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:05.347199+00:00", "level": "INFO", "correlation_id": "f48e557b-853f-485d-8594-733ca9100025", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:24:05.371810+00:00", "level": "ERROR", "correlation_id": "47d2359e-6cd2-456d-a513-edd5660179e2", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:05.916026+00:00", "level": "ERROR", "correlation_id": "3981fd27-a515-4aa3-b7d7-5ef56d50a9b4", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:06.433135+00:00", "level": "ERROR", "correlation_id": "e94961fb-b3a6-462a-9011-3f28115c1895", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:06.960069+00:00", "level": "INFO", "correlation_id": "8c3c4092-98c6-4dbc-b5ef-e62788a64b44", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:24:06.961351+00:00", "level": "INFO", "correlation_id": "db207724-c4a9-4320-b90f-77675ad5d9a8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:24:06.986390+00:00", "level": "ERROR", "correlation_id": "4a610ec6-1101-4f1e-bd4e-bd330c32985a", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:07.520525+00:00", "level": "ERROR", "correlation_id": "1f568384-830f-435f-b8a9-7bbceb5712f7", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[UserORM(user)]'. Original exception was: relationship 'tasks' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:24:08.154190+00:00", "level": "WARNING", "correlation_id": "N/A", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:25:53.181470+00:00", "level": "ERROR", "correlation_id": "d591764a-717e-4ef4-b67e-73eade844ce3", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    |     mapper._post_configure_properties()\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    |     prop.init()\n    |     ~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    |     self.do_init()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    |     self._setup_entity()\n    |     ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    |     raise sa_exc.ArgumentError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.ArgumentError: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    raise sa_exc.ArgumentError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.ArgumentError: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:25:54.077804+00:00", "level": "ERROR", "correlation_id": "1dce057f-382b-4e41-87b2-a5c26e773908", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:25:54.598517+00:00", "level": "ERROR", "correlation_id": "519ae267-0ab3-4958-bf57-8ed6925a1d44", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:25:55.139071+00:00", "level": "ERROR", "correlation_id": "1d60d697-fb92-49c6-9fb0-0503eb29e818", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:25:55.660385+00:00", "level": "ERROR", "correlation_id": "ab439fdf-c419-4dcf-95ff-77f744363479", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:25:56.135923+00:00", "level": "INFO", "correlation_id": "43e5b558-1ac8-4da1-8854-a7aa0eb23cef", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:25:56.161023+00:00", "level": "ERROR", "correlation_id": "9901bc90-4d71-4687-b06d-15e580f08f1f", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:25:56.708228+00:00", "level": "ERROR", "correlation_id": "49e3a62b-e831-44da-b602-2d6e23c5c5dc", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:25:57.230271+00:00", "level": "ERROR", "correlation_id": "8b46f119-ed48-406d-b39f-157ac002a3d1", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:25:57.764430+00:00", "level": "INFO", "correlation_id": "a09b0bff-0567-472c-9aa7-6ede065ce9b7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:25:57.765787+00:00", "level": "INFO", "correlation_id": "7e654bbd-65c4-4153-b862-c1cb0d8827be", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:25:57.789442+00:00", "level": "ERROR", "correlation_id": "a697a269-1e4b-48e9-9858-182a092a1c2c", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:53.545842+00:00", "level": "ERROR", "correlation_id": "8c23e160-70c7-4328-b60a-37c4705b3d5c", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    |     mapper._post_configure_properties()\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    |     prop.init()\n    |     ~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    |     self.do_init()\n    |     ~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    |     self._setup_entity()\n    |     ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    |     raise sa_exc.ArgumentError(\n    |     ...<3 lines>...\n    |     )\n    | sqlalchemy.exc.ArgumentError: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1885, in _setup_entity\n    raise sa_exc.ArgumentError(\n    ...<3 lines>...\n    )\nsqlalchemy.exc.ArgumentError: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:54.443376+00:00", "level": "ERROR", "correlation_id": "1cf30568-93ea-4661-9e50-0bb8fdcf837e", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:54.964736+00:00", "level": "ERROR", "correlation_id": "92788f81-32bc-4c56-80ca-31551cdb27a3", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:55.513129+00:00", "level": "ERROR", "correlation_id": "245d6228-8d67-46a2-9696-86ae88922071", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:56.038631+00:00", "level": "ERROR", "correlation_id": "7c5b682d-aa01-4af1-b6ae-b95e80d89943", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:56.523251+00:00", "level": "INFO", "correlation_id": "c6648294-bf25-4538-92a9-e0423f16f5d5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:26:56.548230+00:00", "level": "ERROR", "correlation_id": "e701f736-4d54-472c-890e-2073cb4df858", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:57.092600+00:00", "level": "ERROR", "correlation_id": "4b910b63-e7db-48ff-af6c-1dd0d20f43ac", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:57.620803+00:00", "level": "ERROR", "correlation_id": "1fbf7a9c-4665-4f28-9b12-1ec62a9e825a", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:58.148745+00:00", "level": "INFO", "correlation_id": "0b8b5b83-8159-4de7-8bb9-468c38b0dde6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:26:58.150087+00:00", "level": "INFO", "correlation_id": "f0433c23-eba3-457d-8a3b-046f77c37ed5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:26:58.174699+00:00", "level": "ERROR", "correlation_id": "b250b6c7-b2b4-4053-b407-d49985d17780", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:58.696184+00:00", "level": "ERROR", "correlation_id": "1bac30b3-06ff-41e5-aa3c-953fceca41fd", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: relationship 'owner' expects a class or a mapper argument (received: <class 'sqlalchemy.sql.schema.Table'>)"}
{"timestamp": "2025-08-26T04:26:59.338436+00:00", "level": "WARNING", "correlation_id": "N/A", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:28:27.165334+00:00", "level": "ERROR", "correlation_id": "496e3220-7b2a-4cea-9443-20cb5a45d7ec", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py\", line 516, in _resolve_name\n    rval = d[token]\n           ~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_collections.py\", line 345, in __missing__\n    self[key] = val = self.creator(key)\n                      ~~~~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py\", line 484, in _access_cls\n    return self.fallback[key]\n           ~~~~~~~~~~~~~^^^^^\nKeyError: 'User'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4259, in _do_configure_registries\n    mapper._post_configure_properties()\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2418, in _post_configure_properties\n    prop.init()\n    ~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py\", line 595, in init\n    self.do_init()\n    ~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1655, in do_init\n    self._setup_entity()\n    ~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py\", line 1865, in _setup_entity\n    self._clsregistry_resolve_name(argument)(),\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py\", line 520, in _resolve_name\n    self._raise_for_name(name, err)\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py\", line 501, in _raise_for_name\n    raise exc.InvalidRequestError(\n    ...<5 lines>...\n    ) from err\nsqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:28.048367+00:00", "level": "ERROR", "correlation_id": "fef39d94-394a-48d8-9bb8-d5538cc3b498", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined.\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:28.559805+00:00", "level": "ERROR", "correlation_id": "47ac1844-db10-46b9-8d75-7abdc7ff545a", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined.\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:29.131439+00:00", "level": "ERROR", "correlation_id": "9c9662cd-82e8-4bfb-9cd8-dd916d83a674", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined.\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:29.641077+00:00", "level": "ERROR", "correlation_id": "d7d66b2b-2e71-4065-80ad-1b74db248152", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined.\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:30.120713+00:00", "level": "INFO", "correlation_id": "6bb02f9f-4a45-4e10-be64-50ecded6d787", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:28:30.144877+00:00", "level": "ERROR", "correlation_id": "7b9a8dbc-18c8-4082-967a-f4a28554ecff", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined.\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:30.696173+00:00", "level": "ERROR", "correlation_id": "628bfa51-ceca-43de-854a-97d43dfed40f", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined.\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:31.349761+00:00", "level": "ERROR", "correlation_id": "f0b98994-c9b1-4680-81ca-4d15189cbd45", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined.\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:31.901879+00:00", "level": "INFO", "correlation_id": "1988bfbc-7889-40c8-861f-46ddc1a7a3f6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:28:31.903141+00:00", "level": "INFO", "correlation_id": "45d5047b-45bb-4de3-9eeb-abd863e5562d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:28:31.927160+00:00", "level": "ERROR", "correlation_id": "4c2d6042-da2f-4c99-8fbb-653a73fb3494", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined.\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:32.468198+00:00", "level": "ERROR", "correlation_id": "2ccc4caa-678c-4f2c-944f-2e590c50b409", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    |     existing_user = await self.repository.get_by_email(user_data.email)\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    |     result = await self.session.execute(\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |         select(UserORM).where(UserORM.email == email)\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    |     result = await greenlet_spawn(\n    |              ^^^^^^^^^^^^^^^^^^^^^\n    |     ...<6 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    |     result = context.switch(*args, **kwargs)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    |     return self._execute_internal(\n    |            ~~~~~~~~~~~~~~~~~~~~~~^\n    |         statement,\n    |         ^^^^^^^^^^\n    |     ...<4 lines>...\n    |         _add_event=_add_event,\n    |         ^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    |     result: Result[Any] = compile_state_cls.orm_execute_statement(\n    |                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<4 lines>...\n    |         conn,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    |     result = conn.execute(\n    |         statement, params or {}, execution_options=execution_options\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    |     return meth(\n    |         self,\n    |         distilled_parameters,\n    |         execution_options or NO_OPTIONS,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    |     return connection._execute_clauseelement(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self, distilled_params, execution_options\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    |     compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n    |                                                 ~~~~~~~~~~~~~~~~~~~~~^\n    |         dialect=dialect,\n    |         ^^^^^^^^^^^^^^^^\n    |     ...<4 lines>...\n    |         linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    |     compiled_sql = self._compiler(\n    |         dialect,\n    |     ...<4 lines>...\n    |         **kw,\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    |     return dialect.statement_compiler(dialect, self, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    |     Compiled.__init__(self, dialect, statement, **kwargs)\n    |     ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    |     self.string = self.process(self.statement, **compile_kwargs)\n    |                   ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    |     return obj._compiler_dispatch(self, **kwargs)\n    |            ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    |     return meth(self, **kw)  # type: ignore  # noqa: E501\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    |     compile_state = select_stmt._compile_state_factory(\n    |         select_stmt, self, **kwargs\n    |     )\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    |     return klass.create_for_statement(statement, compiler, **kw)\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    |     return cls._create_orm_context(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~^\n    |         cast(\"Union[Select, FromStatement]\", statement),\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         **kw,\n    |         ^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    |     _QueryEntity.to_compile_state(\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         self,\n    |         ^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities=True,\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    |     _MapperEntity(\n    |     ~~~~~~~~~~~~~^\n    |         compile_state,\n    |         ^^^^^^^^^^^^^^\n    |     ...<2 lines>...\n    |         is_current_entities,\n    |         ^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    |     entity._post_inspect\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    |     obj.__dict__[self.__name__] = result = self.fget(obj)\n    |                                            ~~~~~~~~~^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    |     self._check_configure()\n    |     ~~~~~~~~~~~~~~~~~~~~~^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    |     _configure_registries({self.registry}, cascade=True)\n    |     ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    |     _do_configure_registries(registries, cascade)\n    |     ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    |     raise e\n    | sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined.\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 39, in register_user\n    existing_user = await self.repository.get_by_email(user_data.email)\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 39, in get_by_email\n    result = await self.session.execute(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        select(UserORM).where(UserORM.email == email)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n             ^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 190, in greenlet_spawn\n    result = context.switch(*args, **kwargs)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ~~~~~~~~~~~~~~~~~~~~~~^\n        statement,\n        ^^^^^^^^^^\n    ...<4 lines>...\n        _add_event=_add_event,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<4 lines>...\n        conn,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n        statement, params or {}, execution_options=execution_options\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1419, in execute\n    return meth(\n        self,\n        distilled_parameters,\n        execution_options or NO_OPTIONS,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 526, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self, distilled_params, execution_options\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py\", line 1633, in _execute_clauseelement\n    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(\n                                                ~~~~~~~~~~~~~~~~~~~~~^\n        dialect=dialect,\n        ^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n        linting=self.dialect.compiler_linting | compiler.WARN_LINTING,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 715, in _compile_w_cache\n    compiled_sql = self._compiler(\n        dialect,\n    ...<4 lines>...\n        **kw,\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py\", line 323, in _compiler\n    return dialect.statement_compiler(dialect, self, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 1446, in __init__\n    Compiled.__init__(self, dialect, statement, **kwargs)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 886, in __init__\n    self.string = self.process(self.statement, **compile_kwargs)\n                  ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 932, in process\n    return obj._compiler_dispatch(self, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/visitors.py\", line 138, in _compiler_dispatch\n    return meth(self, **kw)  # type: ignore  # noqa: E501\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/compiler.py\", line 4781, in visit_select\n    compile_state = select_stmt._compile_state_factory(\n        select_stmt, self, **kwargs\n    )\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/sql/base.py\", line 701, in create_for_statement\n    return klass.create_for_statement(statement, compiler, **kw)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 447, in create_for_statement\n    return cls._create_orm_context(\n           ~~~~~~~~~~~~~~~~~~~~~~~^\n        cast(\"Union[Select, FromStatement]\", statement),\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        **kw,\n        ^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 1175, in _create_orm_context\n    _QueryEntity.to_compile_state(\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        self,\n        ^^^^^\n    ...<2 lines>...\n        is_current_entities=True,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2628, in to_compile_state\n    _MapperEntity(\n    ~~~~~~~~~~~~~^\n        compile_state,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        is_current_entities,\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/context.py\", line 2708, in __init__\n    entity._post_inspect\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py\", line 1338, in __get__\n    obj.__dict__[self.__name__] = result = self.fget(obj)\n                                           ~~~~~~~~~^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2724, in _post_inspect\n    self._check_configure()\n    ~~~~~~~~~~~~~~~~~~~~~^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 2401, in _check_configure\n    _configure_registries({self.registry}, cascade=True)\n    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4218, in _configure_registries\n    _do_configure_registries(registries, cascade)\n    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py\", line 4255, in _do_configure_registries\n    raise e\nsqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[TaskORM(task)]'. Original exception was: When initializing mapper Mapper[TaskORM(task)], expression 'User' failed to locate a name ('User'). If this is a class name, consider adding this relationship() to the <class 'app.task_manager.models.TaskORM'> class after both dependent classes have been defined."}
{"timestamp": "2025-08-26T04:28:33.109672+00:00", "level": "WARNING", "correlation_id": "N/A", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:28:40.684176+00:00", "level": "WARNING", "correlation_id": "43532979-144c-44fb-81de-d27ad93443ab", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:28:40.925834+00:00", "level": "ERROR", "correlation_id": "43532979-144c-44fb-81de-d27ad93443ab", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x744880767230>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x744880767230>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:28:41.616586+00:00", "level": "ERROR", "correlation_id": "e48947fc-83c5-4456-984b-9eec9dd23639", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487f423110>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487f423110>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:28:41.978615+00:00", "level": "ERROR", "correlation_id": "39765c85-d00b-4ace-8c44-866ccfce5fde", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487ebd1810>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487ebd1810>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:28:42.334757+00:00", "level": "ERROR", "correlation_id": "e39826ec-2443-41db-9e93-80b851432c89", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e9e50f0>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e9e50f0>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:28:42.701194+00:00", "level": "ERROR", "correlation_id": "9e7f892a-b10a-4ec0-a2b4-0bcd7f60b8d8", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e9e7bb0>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e9e7bb0>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:28:42.837350+00:00", "level": "INFO", "correlation_id": "bf776e11-921e-4fbb-9ae3-b5ea00fc05db", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:28:43.062892+00:00", "level": "ERROR", "correlation_id": "5a09e964-a943-46f4-860a-6bcd1fd7a356", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487f41f650>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487f41f650>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:28:43.472125+00:00", "level": "ERROR", "correlation_id": "5c5ab71c-5038-4d5e-865a-2d8d930d1d06", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e9efac0>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e9efac0>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:28:43.846053+00:00", "level": "ERROR", "correlation_id": "6d0f3bbe-6d88-40f1-859a-63b53b7ce4af", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e850d10>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e850d10>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:28:43.998809+00:00", "level": "INFO", "correlation_id": "c24d0856-ec47-4da2-9bc0-2b3882f720c1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:28:44.000072+00:00", "level": "INFO", "correlation_id": "802c80de-5cac-45b3-b0ea-c57d2b72116e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:28:44.223616+00:00", "level": "ERROR", "correlation_id": "908099f6-48f7-4085-a501-ffd19b8ef639", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e913750>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e913750>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:28:44.590310+00:00", "level": "ERROR", "correlation_id": "69e5ce79-241c-444f-abbd-2a34f6fb2fee", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e913a50>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x74487e913a50>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:16.144346+00:00", "level": "WARNING", "correlation_id": "eb257a64-f5d6-4785-95d6-26c92d94f58d", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:29:16.388337+00:00", "level": "ERROR", "correlation_id": "eb257a64-f5d6-4785-95d6-26c92d94f58d", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad85f63230>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad85f63230>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:17.047496+00:00", "level": "ERROR", "correlation_id": "51b14036-841a-445b-8353-25982a4fb554", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad84c1f110>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad84c1f110>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:17.404575+00:00", "level": "ERROR", "correlation_id": "a29fb5dd-ddd2-4013-a981-79e64d1f700f", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad84305810>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad84305810>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:17.773824+00:00", "level": "ERROR", "correlation_id": "f3104e1d-400c-4121-ae6d-0aa61ce2ff89", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad841ed0f0>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad841ed0f0>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:18.141804+00:00", "level": "ERROR", "correlation_id": "7ac30a11-86a8-4657-9973-1d2cfe34c4c7", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad841efbb0>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad841efbb0>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:18.280711+00:00", "level": "INFO", "correlation_id": "7899b433-fbe1-42bf-8156-1f9786e1aa88", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:29:18.502476+00:00", "level": "ERROR", "correlation_id": "e6a80fc4-ccee-4acb-85ca-46ac52015619", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad84c1b650>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad84c1b650>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:18.923012+00:00", "level": "ERROR", "correlation_id": "6b9f2d76-3f64-4f5b-9ad6-f632fca0e016", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad841cfac0>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad841cfac0>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:19.294494+00:00", "level": "ERROR", "correlation_id": "8b21c1f5-35b4-4121-a564-bd1d2d431429", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad84b00d10>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad84b00d10>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:19.445743+00:00", "level": "INFO", "correlation_id": "afb1842f-473a-45d6-ab79-8262601c4a75", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:29:19.446978+00:00", "level": "INFO", "correlation_id": "6075e587-bc52-42a0-9176-0f2542e42b4a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:29:19.669964+00:00", "level": "ERROR", "correlation_id": "f8b93dd7-ea6e-4e31-82a3-10639919a00e", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad8412b850>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad8412b850>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:29:20.054952+00:00", "level": "ERROR", "correlation_id": "078c210d-e842-4303-b066-32f23a0ab110", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad8412bb50>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 55, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x78ad8412bb50>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:02.673767+00:00", "level": "WARNING", "correlation_id": "7d404638-ce3f-43d6-8f8b-6ed913a3c411", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:34:02.920295+00:00", "level": "ERROR", "correlation_id": "7d404638-ce3f-43d6-8f8b-6ed913a3c411", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cde863230>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cde863230>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:03.624883+00:00", "level": "ERROR", "correlation_id": "ef73e66a-36d0-4f67-997f-b435b89189c1", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdd51fed0>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdd51fed0>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:03.996836+00:00", "level": "ERROR", "correlation_id": "46037773-0096-4e7d-b905-21e720fa3238", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdca06850>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdca06850>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:04.368641+00:00", "level": "ERROR", "correlation_id": "f79bc432-3b8b-4849-9c86-6ad027e89644", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdca2d480>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdca2d480>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:04.743609+00:00", "level": "ERROR", "correlation_id": "96459c02-90d6-4c1b-bcb9-1930cbef0bed", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdcae8180>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdcae8180>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:04.882446+00:00", "level": "INFO", "correlation_id": "b71b40f3-0798-40b2-a2e5-61a289e6ceb3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:34:05.110637+00:00", "level": "ERROR", "correlation_id": "bb78df05-e323-4d95-8a43-9184fad27462", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdd51bd10>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdd51bd10>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:05.532976+00:00", "level": "ERROR", "correlation_id": "2569f2e1-030b-4d3d-a11b-3d6fcea999fd", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdcad05a0>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdcad05a0>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:05.907091+00:00", "level": "ERROR", "correlation_id": "816a4863-e7f2-4675-af8b-7a826d510e88", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdcad18c0>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdcad18c0>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:06.066948+00:00", "level": "INFO", "correlation_id": "c570990d-5b30-4e96-bf64-5809eab1c70d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:34:06.068234+00:00", "level": "INFO", "correlation_id": "51dcfd65-4d88-4663-869e-d3b753b3dccc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:34:06.295480+00:00", "level": "ERROR", "correlation_id": "8cea3b11-6c0f-4e80-907e-8edd4551ca1a", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdca03050>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdca03050>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:06.687870+00:00", "level": "ERROR", "correlation_id": "b7cded6f-6b25-4e24-9835-0353904f8c7c", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /auth/register", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    |     return await service.register_user(user)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    |     return await self.repository.create(user_data)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    |     return User.model_validate(new_user)\n    |            ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    |     return cls.__pydantic_validator__.validate_python(\n    |            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n    |         obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     )\n    |     ^\n    | pydantic_core._pydantic_core.ValidationError: 1 validation error for User\n    | id\n    |   Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdca02650>, input_type=UserORM]\n    |     For further information visit https://errors.pydantic.dev/2.11/v/missing\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/auth.py\", line 15, in register\n    return await service.register_user(user)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/service.py\", line 42, in register_user\n    return await self.repository.create(user_data)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/auth/repository.py\", line 56, in create\n    return User.model_validate(new_user)\n           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 705, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        obj, strict=strict, from_attributes=from_attributes, context=context, by_alias=by_alias, by_name=by_name\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\npydantic_core._pydantic_core.ValidationError: 1 validation error for User\nid\n  Field required [type=missing, input_value=<app.auth.models.UserORM object at 0x747cdca02650>, input_type=UserORM]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"}
{"timestamp": "2025-08-26T04:34:47.078320+00:00", "level": "WARNING", "correlation_id": "843009f8-d4ab-41c5-8ee3-f2e6f6a56ff2", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:34:47.320085+00:00", "level": "INFO", "correlation_id": "843009f8-d4ab-41c5-8ee3-f2e6f6a56ff2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:47.841705+00:00", "level": "INFO", "correlation_id": "50983088-c757-46ac-9ae7-9c0dae03ca36", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:47.843748+00:00", "level": "INFO", "correlation_id": "9b925aaa-e133-4695-b23d-e0076d960cd8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:34:48.060950+00:00", "level": "INFO", "correlation_id": "776d880a-9bc6-4311-8ea0-fa99b8086772", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:48.278479+00:00", "level": "INFO", "correlation_id": "95c3f7cf-6b77-4fdc-9dd0-841d71a0d393", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:48.491802+00:00", "level": "INFO", "correlation_id": "9d405a12-539d-4273-b547-7ea2908f8b3d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:48.701964+00:00", "level": "INFO", "correlation_id": "52f4a72e-8743-4710-beec-2e8fb144bbe6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:34:48.914324+00:00", "level": "INFO", "correlation_id": "16293857-2989-4e39-a467-c18f628ea525", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:49.127070+00:00", "level": "INFO", "correlation_id": "49ce9f9d-d18d-4cf5-a0ac-5ed0a3a983fb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:49.129362+00:00", "level": "INFO", "correlation_id": "bc18aa03-4024-4e61-8e05-accabe8576f8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:49.131943+00:00", "level": "INFO", "correlation_id": "4c6ad5ae-78fa-4546-b66c-5d6aa25a90b6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:34:49.348580+00:00", "level": "INFO", "correlation_id": "d0ab3aa2-580a-47af-957a-e8a465220ea6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:49.557958+00:00", "level": "INFO", "correlation_id": "b1118535-bb36-4d76-aab2-3b2c28fcfa77", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:49.572266+00:00", "level": "ERROR", "correlation_id": "f0eb01c2-c3ee-44c8-b6a5-796ddc1e73ae", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:34:49.935009+00:00", "level": "INFO", "correlation_id": "84777f24-26eb-4427-9bf6-9954f0c82e8c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:50.153912+00:00", "level": "INFO", "correlation_id": "c6ae9bb7-79af-479c-a443-eb30264ec831", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:50.367408+00:00", "level": "INFO", "correlation_id": "309ec351-435c-4acf-b778-8799a448deda", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:50.577444+00:00", "level": "INFO", "correlation_id": "281f651b-8aeb-4180-abcc-a41f4f67c370", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:50.588753+00:00", "level": "ERROR", "correlation_id": "f682491b-3644-4095-820c-7c872dd05690", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:34:50.945709+00:00", "level": "INFO", "correlation_id": "2f721f8f-aa42-45cd-97c1-adafa3827a7a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:51.161131+00:00", "level": "INFO", "correlation_id": "2a34fb24-640c-446c-b2e8-a972f24e0730", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:51.375924+00:00", "level": "INFO", "correlation_id": "0eb36e67-6f67-440e-a2a9-7fac1218176d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:51.587432+00:00", "level": "INFO", "correlation_id": "6583a185-1de0-4980-9322-8499013bc261", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:51.598745+00:00", "level": "ERROR", "correlation_id": "69d49994-9181-4b1f-bed2-1e48d36af845", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:34:51.761456+00:00", "level": "INFO", "correlation_id": "929571b9-bb00-473d-94ed-f9dd7aabebd4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:34:51.762722+00:00", "level": "INFO", "correlation_id": "27422c6e-9503-4b88-982d-2dc36f6eeec2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:34:51.977177+00:00", "level": "INFO", "correlation_id": "7465f900-a738-4200-b700-714294ad3083", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:52.193982+00:00", "level": "INFO", "correlation_id": "ac04a2ed-dfc1-4633-9a9c-0b63c37f55d9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:52.197196+00:00", "level": "INFO", "correlation_id": "0f939edd-d170-48ed-960a-7fb0e3803c1d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:34:52.410456+00:00", "level": "INFO", "correlation_id": "f2fda05e-4560-4fe5-b4b9-d5ea45efca0b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:34:52.619239+00:00", "level": "INFO", "correlation_id": "7bff75bf-49d8-45d1-89f6-158317efeddd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:34:52.631498+00:00", "level": "ERROR", "correlation_id": "5deb52ec-aa6b-4512-9d59-9b1d84924915", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad396-c9ec-7533-8000-5b0f38908d98", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |                                                          ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n                                                         ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:37:01.867283+00:00", "level": "WARNING", "correlation_id": "2693098d-758a-4545-9076-1551a13c685f", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:37:02.101510+00:00", "level": "INFO", "correlation_id": "2693098d-758a-4545-9076-1551a13c685f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:02.620117+00:00", "level": "INFO", "correlation_id": "fb0521c4-85db-4eef-80ff-0ac226c61b00", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:02.622316+00:00", "level": "INFO", "correlation_id": "b030db36-f1f2-499d-ad2c-66558962c378", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:37:02.839415+00:00", "level": "INFO", "correlation_id": "6683a4a7-1d4e-4b44-a495-2dbd1316c04a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:03.053483+00:00", "level": "INFO", "correlation_id": "f0ef7f70-af61-4a2b-9560-186540a5b137", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:03.267560+00:00", "level": "INFO", "correlation_id": "84ccf6e6-e630-4cf1-b80d-d0bf8b8feafb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:03.480304+00:00", "level": "INFO", "correlation_id": "4dc5ee32-2812-466e-b69a-b2738403b36c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:37:03.699242+00:00", "level": "INFO", "correlation_id": "2f947220-22cf-4403-b9d0-dc831bbf2aee", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:03.915862+00:00", "level": "INFO", "correlation_id": "e44c73c1-41d6-476b-9f30-426f96b1380e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:03.918413+00:00", "level": "INFO", "correlation_id": "78c06031-9590-4af7-a118-a2818c89a49a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:03.920962+00:00", "level": "INFO", "correlation_id": "98fef6b2-4327-429b-b254-f84cdbcfa277", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:37:04.134808+00:00", "level": "INFO", "correlation_id": "09eb8653-9a43-4b40-9760-71f2b624893e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:04.343084+00:00", "level": "INFO", "correlation_id": "c23b5e10-93c8-4e1d-a278-a98e918ffb2e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:04.357442+00:00", "level": "ERROR", "correlation_id": "e178129c-365c-4f39-9108-08922b8b8adc", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:37:04.728997+00:00", "level": "INFO", "correlation_id": "f66ad5cd-fc62-4581-b094-8c0ab8354fd2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:04.945460+00:00", "level": "INFO", "correlation_id": "68f547b3-76de-4921-ad9c-5c188558867d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:05.157088+00:00", "level": "INFO", "correlation_id": "344512ec-176f-409b-a1bd-b582dfc7b03f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:05.368789+00:00", "level": "INFO", "correlation_id": "69bd6bd9-b5c5-4e5c-85e4-55b8f749bc1f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:05.381715+00:00", "level": "ERROR", "correlation_id": "2d6032d7-a01e-43c5-8eff-c7675f154379", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:37:05.747393+00:00", "level": "INFO", "correlation_id": "6a799d53-e808-48c2-ac6d-b7290a86bec2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:05.965068+00:00", "level": "INFO", "correlation_id": "d74bf1de-0934-4bed-a5a2-b95485a9d822", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:06.175591+00:00", "level": "INFO", "correlation_id": "e1015aa3-e8c4-430c-a573-a1bd20616475", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:06.387907+00:00", "level": "INFO", "correlation_id": "c73866ba-44a2-4cde-92a1-7132ebafc99a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:06.400791+00:00", "level": "ERROR", "correlation_id": "bdc0e39f-8e3c-488e-baef-64e9bb005daf", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:37:06.558768+00:00", "level": "INFO", "correlation_id": "f5745e8f-d3a7-4612-a35b-e5410d7590cc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:37:06.560001+00:00", "level": "INFO", "correlation_id": "e4e23a8a-d5c3-413e-87c4-5edda8b9eda3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:37:06.779337+00:00", "level": "INFO", "correlation_id": "1be85758-e192-4e3b-9e25-85cf57638458", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:06.993749+00:00", "level": "INFO", "correlation_id": "de9a1f0b-776f-4338-9422-a20e798fa9a7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:06.997037+00:00", "level": "INFO", "correlation_id": "f5ba16dc-6c98-40bc-bedd-329cb9810de8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:37:07.209332+00:00", "level": "INFO", "correlation_id": "2a422565-2c8e-4cb6-baf7-28d7b309f81a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:37:07.422945+00:00", "level": "INFO", "correlation_id": "431f160a-9c0f-454c-a35a-01acdfbf29df", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:37:07.434750+00:00", "level": "ERROR", "correlation_id": "e5a7bc00-cc98-4297-8f91-15423f5cb053", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad39f-36c7-7b99-8000-b80bfb6bdd8b", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |                                                          ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n                                                         ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:39:28.763902+00:00", "level": "WARNING", "correlation_id": "37580ffe-8f33-4644-8b0f-7681b4b041c1", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:39:29.000229+00:00", "level": "INFO", "correlation_id": "37580ffe-8f33-4644-8b0f-7681b4b041c1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:29.218144+00:00", "level": "INFO", "correlation_id": "7941148c-36f1-48f9-a5d7-a6aaf4e976c8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:29.220197+00:00", "level": "INFO", "correlation_id": "68a42baf-eb6e-4e81-902e-24e0c8e6ed07", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:39:29.444893+00:00", "level": "INFO", "correlation_id": "83eaad31-2796-442b-a8b3-c661157fdb53", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:29.663011+00:00", "level": "INFO", "correlation_id": "cca51e2c-221a-4108-b84a-1f2649739f48", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:29.875194+00:00", "level": "INFO", "correlation_id": "2a0f0003-0f9f-4946-8d26-f5f34cb851ed", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:30.088655+00:00", "level": "INFO", "correlation_id": "b0920fb7-e531-4e46-8955-feb676fc6d3e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:39:30.305952+00:00", "level": "INFO", "correlation_id": "4bb7ef2a-db25-4c8f-ae97-a96b89780a38", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:30.523951+00:00", "level": "INFO", "correlation_id": "b9f1ef01-4afb-4271-9a01-8954bedbbcad", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:30.528845+00:00", "level": "INFO", "correlation_id": "a61084e2-a238-4d94-b06d-1e9340e123a6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:30.531452+00:00", "level": "INFO", "correlation_id": "96134dcc-9c8a-44bc-8f03-65b21b478957", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:39:30.743401+00:00", "level": "INFO", "correlation_id": "e22a6447-ce24-4925-aef5-c19be97cbb4f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:30.951311+00:00", "level": "INFO", "correlation_id": "e6360394-1694-46d2-9def-c259d3a6d2b6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:30.965871+00:00", "level": "ERROR", "correlation_id": "80b416bf-cb97-4ccb-89d9-f5e9828e5a86", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:39:31.635460+00:00", "level": "INFO", "correlation_id": "f2cfc17e-36e0-4e3d-bb03-18b529449210", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:31.842700+00:00", "level": "INFO", "correlation_id": "a0445e19-885e-4933-9c3c-7b64dd895604", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:32.053418+00:00", "level": "INFO", "correlation_id": "dd54a720-a94d-41d9-84cc-ce1ecd39a88e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:32.261553+00:00", "level": "INFO", "correlation_id": "762818f6-d1d8-465e-a73f-a93394b716d2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:32.275408+00:00", "level": "ERROR", "correlation_id": "dd34b25a-ec11-47ae-b8d2-fe8edba6ee78", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:39:32.652873+00:00", "level": "INFO", "correlation_id": "80cfb37b-059b-42a7-9ff5-626be38b82f2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:32.861486+00:00", "level": "INFO", "correlation_id": "635fdfb6-a628-40c9-961f-5a0af3884b4e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:33.075460+00:00", "level": "INFO", "correlation_id": "ad6d1cc0-7a57-4253-99d5-7487b23f67cb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:33.288707+00:00", "level": "INFO", "correlation_id": "796d4e26-e8a5-4a9d-a99e-bd0a78141e65", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:33.300193+00:00", "level": "ERROR", "correlation_id": "6db0dbc1-591c-42ec-8121-4ef62cdc9626", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:39:33.461155+00:00", "level": "INFO", "correlation_id": "e10abf14-110c-4067-9e73-cbfc037929c7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:39:33.462439+00:00", "level": "INFO", "correlation_id": "089fcf2f-7ce7-42d5-a8e1-be50b671e203", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:39:33.677873+00:00", "level": "INFO", "correlation_id": "c905e881-755c-4da3-9818-65b60506319a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:33.887274+00:00", "level": "INFO", "correlation_id": "f2efb682-b3fa-43af-988e-d88b48b62918", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:33.890738+00:00", "level": "INFO", "correlation_id": "712f21ed-4c60-4858-879e-8bc89cc93703", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:39:34.104065+00:00", "level": "INFO", "correlation_id": "9d6f8a82-1291-42c4-a2e8-45953941f5dd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:39:34.315992+00:00", "level": "INFO", "correlation_id": "dad9d6d9-bdf4-4267-99ee-adee72faeff3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:39:34.327994+00:00", "level": "ERROR", "correlation_id": "96b136b3-5170-43fc-8914-4a62d8c65ce9", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad3a8-6511-7533-8000-5245f004bee0", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |                                                          ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n                                                         ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:40:46.778372+00:00", "level": "WARNING", "correlation_id": "2e530915-00f6-46d8-a294-6574ba4a0b2e", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:40:47.017439+00:00", "level": "INFO", "correlation_id": "2e530915-00f6-46d8-a294-6574ba4a0b2e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:47.231743+00:00", "level": "INFO", "correlation_id": "2da92b72-11f6-4d15-bf15-f3b3d1591ace", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:47.234028+00:00", "level": "INFO", "correlation_id": "7af8275a-f2d0-483a-8f39-57f6214fde8a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:40:47.449499+00:00", "level": "INFO", "correlation_id": "10cf3d54-2422-4412-8f35-5a2f18caa5b4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:47.665031+00:00", "level": "INFO", "correlation_id": "e2784bf2-1873-4561-85e5-ed627416cbb3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:47.885546+00:00", "level": "INFO", "correlation_id": "dfa7ee4c-1ca6-4a4c-85ae-d6a73f7bafe8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:48.099378+00:00", "level": "INFO", "correlation_id": "2dfc6ce2-5413-42dc-a5bb-a4ff85b27759", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:40:48.314802+00:00", "level": "INFO", "correlation_id": "01158060-dc4c-49ac-96f7-31edcf5d8272", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:48.527672+00:00", "level": "INFO", "correlation_id": "0eee1730-d4a6-428f-9c83-1f1ed5f7972b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:48.530204+00:00", "level": "INFO", "correlation_id": "f50158f6-bc50-4bcf-a42c-011d17ef1247", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:48.532843+00:00", "level": "INFO", "correlation_id": "49dd105d-c240-4033-adf1-0cea96ba8672", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:40:48.749158+00:00", "level": "INFO", "correlation_id": "d344f796-ebee-462c-ae12-8a48ee1c761a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:48.963309+00:00", "level": "INFO", "correlation_id": "f1aff87e-ef36-4ec5-a34f-1b7500060c09", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:48.977653+00:00", "level": "ERROR", "correlation_id": "8bbc6f0d-fb15-4727-b637-e9452219b053", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:40:49.641724+00:00", "level": "INFO", "correlation_id": "3fea2e0e-4972-444f-aff9-ff865e90a812", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:49.855707+00:00", "level": "INFO", "correlation_id": "24e576b3-8022-44fa-8183-3025f4d41540", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:50.067462+00:00", "level": "INFO", "correlation_id": "9badb308-3f6d-4e4d-a3a1-24112f1e6695", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:50.274579+00:00", "level": "INFO", "correlation_id": "a3b6474c-64e0-42be-8674-a9046728d88b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:50.285756+00:00", "level": "ERROR", "correlation_id": "10c743b6-1908-4da3-bfdb-3fc5b0d754e2", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:40:50.654650+00:00", "level": "INFO", "correlation_id": "8919d434-72b2-460f-a942-424dcde64238", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:50.870175+00:00", "level": "INFO", "correlation_id": "00bd55c6-84b5-4fa3-b8a1-a2baf1356e41", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:51.080687+00:00", "level": "INFO", "correlation_id": "13b63fbe-58ab-450d-b3f0-b375b238f1ee", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:51.290983+00:00", "level": "INFO", "correlation_id": "441b70c4-93a2-4dbe-9e17-654843b90cf5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:51.304885+00:00", "level": "ERROR", "correlation_id": "0e25d667-be48-479a-bbb6-4bc8255ab0bf", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during POST /tasks/", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    |     return await service.create_task(task, user_id=current_user.id)\n    |                                                    ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 15, in create_task\n    return await service.create_task(task, user_id=current_user.id)\n                                                   ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:40:51.456877+00:00", "level": "INFO", "correlation_id": "d036b8e4-ae9d-45ee-870a-3c8fd9868d5a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:40:51.458186+00:00", "level": "INFO", "correlation_id": "c91d5361-fb66-47e7-a52f-9964e8dce747", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:40:51.674891+00:00", "level": "INFO", "correlation_id": "8606e03e-10d5-4928-a1e7-c1e7ee852557", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:51.893987+00:00", "level": "INFO", "correlation_id": "6aaf6fca-c5dc-49a7-b48a-700126c4e7c3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:51.897254+00:00", "level": "INFO", "correlation_id": "a274bbd6-340e-4531-9336-e749b2a14567", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:40:52.112242+00:00", "level": "INFO", "correlation_id": "bb59bcd1-e3dd-450c-875f-73caabc925ef", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:40:52.320410+00:00", "level": "INFO", "correlation_id": "ae5b2405-35f0-4412-b3b1-eab17db616d7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:40:52.331946+00:00", "level": "ERROR", "correlation_id": "e320c3e4-ef86-4069-908e-bd8a5de1ffc0", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad3ad-4523-709c-8000-1237fc3bdacc", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    |     raw_response = await run_endpoint_function(\n    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<3 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    |     return await dependant.call(**values)\n    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    |     return await service.get_task_by_id(task_id, user_id=current_user.id)\n    |                                                          ^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    |     raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\n    | AttributeError: 'User' object has no attribute 'id'\n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 302, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 213, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/api/task_manager.py\", line 28, in get_task_by_id\n    return await service.get_task_by_id(task_id, user_id=current_user.id)\n                                                         ^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/pydantic/main.py\", line 991, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'User' object has no attribute 'id'"}
{"timestamp": "2025-08-26T04:43:07.803669+00:00", "level": "WARNING", "correlation_id": "8982440a-34b1-42a5-8fa4-9aa83a9941d1", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:43:08.038167+00:00", "level": "INFO", "correlation_id": "8982440a-34b1-42a5-8fa4-9aa83a9941d1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:08.261343+00:00", "level": "INFO", "correlation_id": "c2255c59-fcd0-4d55-9c08-03e68ce38f04", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:08.263531+00:00", "level": "INFO", "correlation_id": "1dc4a261-b1b5-464e-8338-2951d90e2712", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:43:08.486249+00:00", "level": "INFO", "correlation_id": "385959eb-2e4b-4123-b2c8-01844857dbc3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:08.697654+00:00", "level": "INFO", "correlation_id": "812911d9-f35f-44ac-9582-d938fcc00f22", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:08.909528+00:00", "level": "INFO", "correlation_id": "e7bcd4d4-4e6b-49d5-9b56-d0f70210af5c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:09.125788+00:00", "level": "INFO", "correlation_id": "437090f1-b0a4-4fb5-b4a8-9568270a6447", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:43:09.342500+00:00", "level": "INFO", "correlation_id": "76c91123-ff69-48e7-870b-76ae75a1ea58", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:09.558999+00:00", "level": "INFO", "correlation_id": "1a943a76-4e19-49ba-9eb0-528368a6ffa0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:09.561678+00:00", "level": "INFO", "correlation_id": "ff2a67ae-237f-42a3-b390-709881684794", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:09.564374+00:00", "level": "INFO", "correlation_id": "7af58cce-d1c8-4210-ab21-4f4f4e3cd310", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:43:09.776400+00:00", "level": "INFO", "correlation_id": "b253929f-5046-4e34-ba11-95f201a6d01a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:09.984267+00:00", "level": "INFO", "correlation_id": "0730ae45-6771-42fc-b262-72870b2c3708", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:09.990463+00:00", "level": "INFO", "correlation_id": "2ec491bf-eadf-4335-bc6b-0df5697f1d28", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:10.208332+00:00", "level": "INFO", "correlation_id": "5584f19b-282c-4e38-a7d1-dd337f725c49", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:10.425586+00:00", "level": "INFO", "correlation_id": "3dd6be95-126c-43eb-b1c2-055b35205d1f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:10.642129+00:00", "level": "INFO", "correlation_id": "5a21de28-6529-4674-9697-d03e61f4dce4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:10.848773+00:00", "level": "INFO", "correlation_id": "aec15ae7-0afc-4313-9fbe-e4ad0880c363", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:10.853450+00:00", "level": "INFO", "correlation_id": "a674fd72-d080-4a4f-84ad-6eee13c9943e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:10.856536+00:00", "level": "INFO", "correlation_id": "1d0f1dda-bfdf-4c95-803a-e6d367b79dfc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:10.859120+00:00", "level": "INFO", "correlation_id": "09519cb4-5e94-4797-9147-915b2d6e1edb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:10.861370+00:00", "level": "INFO", "correlation_id": "3adda3c8-ae3a-4de4-bd81-8dc66bdc18a4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:11.076262+00:00", "level": "INFO", "correlation_id": "3721cea2-4fd3-4a0e-baa0-4751ff869dd6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:11.286892+00:00", "level": "INFO", "correlation_id": "687b44ff-4668-400a-8067-0d3ad28ef037", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:11.504477+00:00", "level": "INFO", "correlation_id": "58263176-a6e9-4d29-811e-1ac870c8fbe5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:11.714856+00:00", "level": "INFO", "correlation_id": "b8958e82-25af-49be-8637-2927d2461c45", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:11.719974+00:00", "level": "INFO", "correlation_id": "1feb1c24-7228-4397-afda-a647fa63a89b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:11.732390+00:00", "level": "ERROR", "correlation_id": "2fecb679-cc68-4cff-9aaf-ea2cb34655ce", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/52dc1d08-86a1-42aa-a9fe-a3fd260d459b", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 328, in app\n    |     content = await serialize_response(\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<9 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 177, in serialize_response\n    |     raise ResponseValidationError(\n    |         errors=_normalize_errors(errors), body=response_content\n    |     )\n    | fastapi.exceptions.ResponseValidationError: 1 validation errors:\n    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}\n    | \n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 328, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 177, in serialize_response\n    raise ResponseValidationError(\n        errors=_normalize_errors(errors), body=response_content\n    )\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}\n"}
{"timestamp": "2025-08-26T04:43:12.166749+00:00", "level": "INFO", "correlation_id": "1a6b18b9-9494-41df-8378-18def2487f80", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:43:12.168095+00:00", "level": "INFO", "correlation_id": "1fde0926-35b7-468e-b767-bc5d2a59df2a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:43:12.386752+00:00", "level": "INFO", "correlation_id": "4e1e918a-ef79-4f51-b755-4ce7252c0e33", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:12.605210+00:00", "level": "INFO", "correlation_id": "55a02582-2e6b-40f7-a17b-f712b591adf6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:12.608470+00:00", "level": "INFO", "correlation_id": "dd0c70af-3d8f-4d7e-ae3e-9a41129228c0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:43:12.819103+00:00", "level": "INFO", "correlation_id": "9f6a0cc3-7a5e-4db3-ac11-eeacac11e834", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:43:13.027254+00:00", "level": "INFO", "correlation_id": "31190d0b-40df-4e30-9738-b4a98f0e3e33", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:43:13.038256+00:00", "level": "ERROR", "correlation_id": "e88bb643-1a86-4968-bbdd-d4c2ec744ba2", "logger": "app.logging_config", "module": "main", "line": 42, "message": "Unhandled exception during GET /tasks/068ad3b6-1073-7898-8000-9bbe94a3f811", "exception": "  + Exception Group Traceback (most recent call last):\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 77, in collapse_excgroups\n  |     yield\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 183, in __call__\n  |     async with anyio.create_task_group() as task_group:\n  |                ~~~~~~~~~~~~~~~~~~~~~~~^^\n  |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py\", line 772, in __aexit__\n  |     raise BaseExceptionGroup(\n  |         \"unhandled errors in a TaskGroup\", self._exceptions\n  |     ) from None\n  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)\n  +-+---------------- 1 ----------------\n    | Traceback (most recent call last):\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    |     await self.app(scope, receive, _send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    |     with recv_stream, send_stream, collapse_excgroups():\n    |                                    ~~~~~~~~~~~~~~~~~~^^\n    |   File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    |     self.gen.throw(value)\n    |     ~~~~~~~~~~~~~~^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    |     response = await self.dispatch_func(request, call_next)\n    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    |     response: Response = await call_next(request)\n    |                          ^^^^^^^^^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    |     raise app_exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    |     await self.app(scope, receive_or_disconnect, send_no_error)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    |     await self.middleware_stack(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    |     await route.handle(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    |     await self.app(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    |     raise exc\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    |     await app(scope, receive, sender)\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    |     response = await f(request)\n    |                ^^^^^^^^^^^^^^^^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 328, in app\n    |     content = await serialize_response(\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^\n    |     ...<9 lines>...\n    |     )\n    |     ^\n    |   File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 177, in serialize_response\n    |     raise ResponseValidationError(\n    |         errors=_normalize_errors(errors), body=response_content\n    |     )\n    | fastapi.exceptions.ResponseValidationError: 1 validation errors:\n    |   {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}\n    | \n    +------------------------------------\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 182, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/usr/lib/python3.13/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_utils.py\", line 83, in collapse_excgroups\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 184, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/app/middleware.py\", line 14, in dispatch\n    response: Response = await call_next(request)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 159, in call_next\n    raise app_exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 78, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/starlette/routing.py\", line 75, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 328, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/fastapi/routing.py\", line 177, in serialize_response\n    raise ResponseValidationError(\n        errors=_normalize_errors(errors), body=response_content\n    )\nfastapi.exceptions.ResponseValidationError: 1 validation errors:\n  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': None}\n"}
{"timestamp": "2025-08-26T04:50:31.422857+00:00", "level": "WARNING", "correlation_id": "3d41c9dc-e1a6-4fc8-b3c1-b582fcc06db5", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:50:31.661159+00:00", "level": "INFO", "correlation_id": "3d41c9dc-e1a6-4fc8-b3c1-b582fcc06db5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:31.875877+00:00", "level": "INFO", "correlation_id": "7ffe644d-cfb2-48ef-8ccb-f7e23b4f1081", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:31.878168+00:00", "level": "INFO", "correlation_id": "4b55b68b-b766-48d1-94ff-dac79b7f6645", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:50:32.094842+00:00", "level": "INFO", "correlation_id": "a8bb6921-1f0c-4d2f-874a-33327e5256a1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:32.303478+00:00", "level": "INFO", "correlation_id": "636a88ed-f521-44c7-8a03-3aa51afb9106", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:32.516854+00:00", "level": "INFO", "correlation_id": "b10060af-3201-40aa-aaab-034875752667", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:32.731066+00:00", "level": "INFO", "correlation_id": "c80ed304-eed1-4227-afc5-1ab48378cf91", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:50:32.951789+00:00", "level": "INFO", "correlation_id": "d661bb6f-fab9-4198-9ac3-e96f48c8fb32", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:33.161992+00:00", "level": "INFO", "correlation_id": "c9983347-9ba2-4830-bd53-41374651b599", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:33.164638+00:00", "level": "INFO", "correlation_id": "7a0539a6-0c88-450c-aae1-ae45e96a88af", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:33.166998+00:00", "level": "INFO", "correlation_id": "8333fa2a-150e-4ab4-9e42-fdc3091127ae", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:50:33.378520+00:00", "level": "INFO", "correlation_id": "638d2208-a639-4788-8861-91e36aa88621", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:33.589663+00:00", "level": "INFO", "correlation_id": "1cbf2f54-8688-4bbc-a8d4-74ad317f0701", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:33.596225+00:00", "level": "INFO", "correlation_id": "23ddb3fc-f5b6-40a4-92e0-39d4df02baa2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:33.808478+00:00", "level": "INFO", "correlation_id": "80828a76-0e52-48ce-a9b8-86a6846d41c0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:34.021056+00:00", "level": "INFO", "correlation_id": "f7b8cdf1-57b7-455f-b977-9960564ae075", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:34.230686+00:00", "level": "INFO", "correlation_id": "63565f7a-5e73-42f3-98bc-4435be33fd5a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:34.440751+00:00", "level": "INFO", "correlation_id": "1031ce11-b44b-4a52-bafc-f97a8a62ccdb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:34.444882+00:00", "level": "INFO", "correlation_id": "e48496d2-7706-4c17-a923-265c435cd45c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:34.447632+00:00", "level": "INFO", "correlation_id": "e835ad5e-3644-4dce-a82d-5f0e88c43909", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:34.450010+00:00", "level": "INFO", "correlation_id": "2abc0a08-419b-41ef-a2f4-b2c8cf88af51", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:34.452063+00:00", "level": "INFO", "correlation_id": "c397c358-0dfd-4364-82f4-643f2f4f95c1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:34.669776+00:00", "level": "INFO", "correlation_id": "eeebb5cb-3f52-424f-9855-8b214020b002", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:34.878225+00:00", "level": "INFO", "correlation_id": "692883e1-d3ec-45e3-afbd-8a44503be217", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:35.094917+00:00", "level": "INFO", "correlation_id": "1e73fe2e-80c3-475e-8912-673521b2694c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:35.302627+00:00", "level": "INFO", "correlation_id": "a652ae16-6f6d-46ab-aedb-359b224a38c6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:35.307203+00:00", "level": "INFO", "correlation_id": "8a1ab336-9a62-45ce-968a-88638ba07f21", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:35.309819+00:00", "level": "INFO", "correlation_id": "e0056b0d-2c8c-47a3-ad1b-fdb23134268d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/6f6c56cc-de60-416b-a36b-d201820f87d6 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:50:35.312720+00:00", "level": "INFO", "correlation_id": "c117e659-a5c2-48a4-bd5e-1b3c957c4aad", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/6f6c56cc-de60-416b-a36b-d201820f87d6 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:50:35.315164+00:00", "level": "INFO", "correlation_id": "cfc720f8-98e6-4c79-8f02-8edabd6618a9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/6f6c56cc-de60-416b-a36b-d201820f87d6 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:50:35.318059+00:00", "level": "INFO", "correlation_id": "8cc2722e-3214-48c0-b2bf-44d04239649c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:50:35.319194+00:00", "level": "INFO", "correlation_id": "03effe94-29c6-4899-8d88-aed874ae76a2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:50:35.531033+00:00", "level": "INFO", "correlation_id": "a98c76bc-fe8a-4079-a3f9-6d7a61077823", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:35.741074+00:00", "level": "INFO", "correlation_id": "4693e30d-28e9-4ba3-b0d0-43246b4e4d13", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:35.744302+00:00", "level": "INFO", "correlation_id": "c6e09ef3-c36d-4f36-9a45-26e7774be534", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:50:35.958019+00:00", "level": "INFO", "correlation_id": "aa63d450-74af-403b-9618-fd6724de178c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:50:36.166748+00:00", "level": "INFO", "correlation_id": "962b9898-4e5c-424b-8490-b79046dd99d4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:50:36.170702+00:00", "level": "INFO", "correlation_id": "3f07ad49-75dc-4524-b80f-9774a4f7e797", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068ad3d1-c2ad-7aa8-8000-b305d6d6a6e9 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:51:15.423257+00:00", "level": "WARNING", "correlation_id": "6e6f6d66-00b5-4b61-98df-df5fa47f7556", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:51:15.656665+00:00", "level": "INFO", "correlation_id": "6e6f6d66-00b5-4b61-98df-df5fa47f7556", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:15.869703+00:00", "level": "INFO", "correlation_id": "44b88431-a4a1-4bf7-9e02-ead4c1d33857", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:15.872459+00:00", "level": "INFO", "correlation_id": "3dade2f9-fbe3-4384-b928-0d0b20ac0823", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:51:16.088822+00:00", "level": "INFO", "correlation_id": "25e21a8c-c80f-4543-b370-cab02ca5eba9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:16.298056+00:00", "level": "INFO", "correlation_id": "3859e6f7-6f03-4b68-80ce-36cdad9627ee", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:16.512336+00:00", "level": "INFO", "correlation_id": "6d52236b-12e7-4786-9299-eb2a554f36e9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:16.736201+00:00", "level": "INFO", "correlation_id": "a5c92847-961c-4499-a433-e4fb0e769aef", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:51:16.968527+00:00", "level": "INFO", "correlation_id": "03660a3f-aa5d-499b-afa4-cf3c5509258e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:17.195188+00:00", "level": "INFO", "correlation_id": "9e517e1d-3839-4203-8ede-2790c203e32a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:17.197454+00:00", "level": "INFO", "correlation_id": "84bea58c-7dc1-49cc-a58a-9f680d4695cc", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:17.199979+00:00", "level": "INFO", "correlation_id": "cd2e19f1-2761-4dab-8d8b-bd744ca40657", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:51:17.427368+00:00", "level": "INFO", "correlation_id": "aff3ea7b-e4c9-4dc2-8aee-8d24a8a7792e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:17.649157+00:00", "level": "INFO", "correlation_id": "fc1c6ab4-6b27-4a6a-ba7f-767e4d98c38e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:17.655231+00:00", "level": "INFO", "correlation_id": "8c8409ab-2887-444f-b097-11569f4ace01", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:17.872856+00:00", "level": "INFO", "correlation_id": "e86287ab-4adc-4155-936b-324955381922", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:18.091430+00:00", "level": "INFO", "correlation_id": "90c67cb8-0f31-47de-8505-1bd6bcd8268e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:18.300515+00:00", "level": "INFO", "correlation_id": "1464ad4c-063a-4b63-97a3-c94e648531c9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:18.508749+00:00", "level": "INFO", "correlation_id": "8aed418c-b5e3-427e-9df5-6e06f80419f0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:18.514036+00:00", "level": "INFO", "correlation_id": "1fe88132-51da-4832-9c53-3ad9994c724b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:18.517018+00:00", "level": "INFO", "correlation_id": "c94f8bc2-e826-44b0-93d9-b8e004d15597", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:18.519457+00:00", "level": "INFO", "correlation_id": "1f98b26b-07d3-4946-8239-7ee1c90622f5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:18.521993+00:00", "level": "INFO", "correlation_id": "842569a3-7a10-47d5-a97f-b11cc8e1d3d5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:18.740208+00:00", "level": "INFO", "correlation_id": "6d0edfbf-4d28-4ada-825e-04e6027fe0cb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:18.951185+00:00", "level": "INFO", "correlation_id": "5ff3f69f-bc56-4a91-b35e-e7a12924523e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:19.168109+00:00", "level": "INFO", "correlation_id": "987bef40-9a47-4b99-b8e6-5bda7bf73bbf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:19.386286+00:00", "level": "INFO", "correlation_id": "eb1004f6-95c8-40c3-a3cd-39d3283acc20", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:19.390413+00:00", "level": "INFO", "correlation_id": "a54a0e81-7209-4fb7-b5e2-e8a20dd77f6a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:19.393238+00:00", "level": "INFO", "correlation_id": "819fb16e-d659-464c-8103-e4c63e4edbbf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ff59f062-42b7-4aa0-b5a3-b40a2564d7dd \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:51:19.396214+00:00", "level": "INFO", "correlation_id": "6d9db4b4-a6b8-4b10-bc67-024d00d1cb3d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/ff59f062-42b7-4aa0-b5a3-b40a2564d7dd \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:51:19.399141+00:00", "level": "INFO", "correlation_id": "933f70a6-104d-4fab-aa6d-724e02436639", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/ff59f062-42b7-4aa0-b5a3-b40a2564d7dd \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:51:19.401904+00:00", "level": "INFO", "correlation_id": "055eccf0-417d-49e4-a44b-3d53be732276", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:51:19.403058+00:00", "level": "INFO", "correlation_id": "f682f047-b222-4f75-9b0c-ca7c53644479", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:51:19.626540+00:00", "level": "INFO", "correlation_id": "02cf53b4-b92b-4c40-9432-b1eeb8e24637", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:19.842967+00:00", "level": "INFO", "correlation_id": "d6b16de3-51f3-4e05-82e7-171f1d710c82", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:19.846238+00:00", "level": "INFO", "correlation_id": "def9fbf4-800c-4c2e-84a4-9115fdad6190", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:51:20.067741+00:00", "level": "INFO", "correlation_id": "66b22337-7083-4551-ad89-e890109db287", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:51:20.283333+00:00", "level": "INFO", "correlation_id": "7c417792-e5c3-4390-a1e3-4be59ecc35ca", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:51:20.286812+00:00", "level": "INFO", "correlation_id": "326bb268-5a0d-42bf-856a-fee752fda82d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068ad3d4-848b-734b-8000-2783ab577463 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:52:09.529547+00:00", "level": "WARNING", "correlation_id": "e2a1033d-43bd-4e4e-8696-664ea3bae17a", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:52:09.765279+00:00", "level": "INFO", "correlation_id": "e2a1033d-43bd-4e4e-8696-664ea3bae17a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:09.981154+00:00", "level": "INFO", "correlation_id": "6f50c112-b2de-4c71-957f-4355e9821a5d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:09.984288+00:00", "level": "INFO", "correlation_id": "0e6de3ea-5aa9-488f-9bac-dfefca3cf16d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:52:10.202899+00:00", "level": "INFO", "correlation_id": "2d53fcdd-71a7-432d-a4c1-83403f98bf2c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:10.411022+00:00", "level": "INFO", "correlation_id": "4f7bdac1-80df-4615-ae6d-53862713e034", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:10.627804+00:00", "level": "INFO", "correlation_id": "76b6cfd2-cd70-43ee-995a-112fc036ef5f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:10.836304+00:00", "level": "INFO", "correlation_id": "be9e9372-8b5c-4b88-9b3c-9e533bb0689a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:52:11.052556+00:00", "level": "INFO", "correlation_id": "0cb46b31-c5cf-4a90-bfa2-2aa5bb8c4650", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:11.263593+00:00", "level": "INFO", "correlation_id": "9408c16f-5a59-4edb-a676-38608f66d909", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:11.266236+00:00", "level": "INFO", "correlation_id": "ae7ad772-c032-47d7-90de-89a5095f4457", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:11.268960+00:00", "level": "INFO", "correlation_id": "32ff78b5-a03c-4090-9f98-caf3a598b57d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:52:11.489171+00:00", "level": "INFO", "correlation_id": "644a96d9-330f-40b4-aea0-6c06e0deab4b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:11.707247+00:00", "level": "INFO", "correlation_id": "5af5bde1-ac58-438f-a483-544550288298", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:11.713327+00:00", "level": "INFO", "correlation_id": "a752771c-14ae-4ae6-bc54-4fdbd6f92e50", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:11.928671+00:00", "level": "INFO", "correlation_id": "8ee60467-6f29-4599-adea-afa89048e64e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:12.146257+00:00", "level": "INFO", "correlation_id": "4457161b-973c-44eb-985e-437d83d0035a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:12.360035+00:00", "level": "INFO", "correlation_id": "8e0b40d3-0341-403c-8b76-55fbde25916c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:12.574712+00:00", "level": "INFO", "correlation_id": "b162c497-b9d0-49f4-b3f3-172ad11f57d4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:12.579292+00:00", "level": "INFO", "correlation_id": "9543c0fc-435e-4bff-88b5-bc9ec8167dbf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:12.582112+00:00", "level": "INFO", "correlation_id": "74bb2155-5de8-40b5-8f33-168bc0141d9d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:12.584542+00:00", "level": "INFO", "correlation_id": "e8e124c2-4f7a-43ec-8ffc-ec89a229e7e0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:12.586556+00:00", "level": "INFO", "correlation_id": "81ca8ce2-08e1-4bcf-bef8-9523ff3763a1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:12.797150+00:00", "level": "INFO", "correlation_id": "12a1ea36-998c-47c5-a51e-4570da685a86", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:13.005824+00:00", "level": "INFO", "correlation_id": "18491677-78b7-4124-8bc4-4b55a67e4390", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:13.221904+00:00", "level": "INFO", "correlation_id": "b6dc3169-3d79-437c-ab4e-a0f50bdb4ab9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:13.434741+00:00", "level": "INFO", "correlation_id": "4b07f63f-b2d3-4212-abc3-83e8a70a3e65", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:13.439035+00:00", "level": "INFO", "correlation_id": "cd1595c1-2e06-45e1-81e0-24fe2e26db35", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:13.441875+00:00", "level": "INFO", "correlation_id": "dc7462c5-d81e-46b2-8a5e-847856f1e58f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/8ac8807d-b52b-44ae-89c0-677eb873c032 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:52:13.444941+00:00", "level": "INFO", "correlation_id": "f5d4d496-46fe-401b-b865-1fc4b5b09e6c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/8ac8807d-b52b-44ae-89c0-677eb873c032 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:52:13.447971+00:00", "level": "INFO", "correlation_id": "3b3ef01e-9021-422a-bd6f-5417aab9af83", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/8ac8807d-b52b-44ae-89c0-677eb873c032 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:52:13.450852+00:00", "level": "INFO", "correlation_id": "3dde08a5-0943-421b-86b4-1f3af48d2e20", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:52:13.452044+00:00", "level": "INFO", "correlation_id": "afe3cdd0-c803-44c3-b0fe-f0dc3dc43d65", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:52:13.667208+00:00", "level": "INFO", "correlation_id": "d9789fd7-413d-4772-b47c-b1168bd38689", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:13.876100+00:00", "level": "INFO", "correlation_id": "6d8fa1cc-595c-4281-adc4-9f372c7618cd", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:13.879745+00:00", "level": "INFO", "correlation_id": "dbebb19e-184f-4386-afd3-d8873c59544e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:52:14.097592+00:00", "level": "INFO", "correlation_id": "ca6700ea-7e80-4dcb-a56a-496a0d52d21f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:52:14.308453+00:00", "level": "INFO", "correlation_id": "8f8947a9-df95-4f5a-8dbd-326a7c089ca8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:52:14.311826+00:00", "level": "INFO", "correlation_id": "25ce0d12-5052-44a6-ba39-19c6d3c5a5c7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068ad3d7-e4f2-7140-8000-35f50cad9a50 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:59:41.602382+00:00", "level": "WARNING", "correlation_id": "N/A", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T04:59:42.308284+00:00", "level": "INFO", "correlation_id": "e72bf40b-ecc3-4d4a-a1b1-d1603dffde44", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:42.525121+00:00", "level": "INFO", "correlation_id": "c0bc71c9-07f1-49d4-8d5d-d61be5a5233d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:42.736452+00:00", "level": "INFO", "correlation_id": "f6caa71e-0461-4440-9854-50cb1c710666", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:42.951325+00:00", "level": "INFO", "correlation_id": "1706cf20-a937-4037-8865-0cd240a7bf42", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:43.168532+00:00", "level": "INFO", "correlation_id": "81cf25e6-b659-431b-8e2c-ec57c73a4e79", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:59:43.394136+00:00", "level": "INFO", "correlation_id": "a53c5e5d-bb6a-4222-b9d3-0318155fbb85", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:43.397520+00:00", "level": "INFO", "correlation_id": "b64760a8-4090-4145-b7af-17cb2633512f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:59:43.620936+00:00", "level": "INFO", "correlation_id": "afe06639-b171-43e3-9d61-ce4f387d63ec", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:43.839953+00:00", "level": "INFO", "correlation_id": "76f2abba-b3d4-49cd-996c-9b69b22554d1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:43.842224+00:00", "level": "INFO", "correlation_id": "86ec642c-d260-4b09-ac07-7b0be81eaf2e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:43.844700+00:00", "level": "INFO", "correlation_id": "768ff720-306e-4768-a33f-7427ab42ac33", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:59:44.063862+00:00", "level": "INFO", "correlation_id": "2faeb941-5259-4b76-ae88-cd1edc2e54cf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:44.065824+00:00", "level": "INFO", "correlation_id": "19f82e48-b692-4c2a-ad53-ad42af9ca231", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:59:44.293422+00:00", "level": "INFO", "correlation_id": "86d1ba2a-eb3b-48ab-9489-21a2206266eb", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:44.295458+00:00", "level": "INFO", "correlation_id": "3ea7849d-1daa-457c-a77a-a538b819b9f4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T04:59:44.513786+00:00", "level": "INFO", "correlation_id": "c016d0cf-bb0a-4c7b-9ba6-2e9b5ed0c7d5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:44.721937+00:00", "level": "INFO", "correlation_id": "cb6bfa80-39de-4498-91aa-6c870c11f0ad", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:44.728616+00:00", "level": "INFO", "correlation_id": "4a3a3146-33c5-4c4c-8680-ca11bdda597a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:44.939960+00:00", "level": "INFO", "correlation_id": "39af39bf-0361-4381-9f15-1ae813abe7c1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:45.152108+00:00", "level": "INFO", "correlation_id": "c453d78a-94f1-4085-a529-d3b0eed2ef44", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:45.156997+00:00", "level": "INFO", "correlation_id": "729fb4d5-482d-41b0-a9c7-8f1bb6ac590e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:45.368875+00:00", "level": "INFO", "correlation_id": "c544fe2f-07cb-4147-affd-d6db4625ba0f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:45.578579+00:00", "level": "INFO", "correlation_id": "d2623cfa-766f-4656-a718-6d5b54fa46d4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:45.582066+00:00", "level": "INFO", "correlation_id": "a9e2b2dd-9fd3-4e82-9851-78aead42637a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T04:59:45.794126+00:00", "level": "INFO", "correlation_id": "d1da3c66-3900-4ee5-8759-25d227fbbc88", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:46.004783+00:00", "level": "INFO", "correlation_id": "7d26feeb-19c6-401e-ae49-b2dcc94a78b0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:46.213476+00:00", "level": "INFO", "correlation_id": "a4d05cc6-c8dd-4cad-b31f-495bd50c1ed8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:46.423341+00:00", "level": "INFO", "correlation_id": "8fbca92e-3948-44d5-a89c-ce1910bfd306", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:46.427562+00:00", "level": "INFO", "correlation_id": "9770f9a9-9aa6-444b-9b4d-f92d696cd05d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:46.430393+00:00", "level": "INFO", "correlation_id": "a00bf528-4272-42b0-8bd3-a844f5b34ece", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:46.432825+00:00", "level": "INFO", "correlation_id": "c9495cd8-cca2-45e6-a842-4cd895db6ced", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:46.434873+00:00", "level": "INFO", "correlation_id": "419024a1-4ad5-4384-b5f0-6ede2875f761", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:46.654926+00:00", "level": "INFO", "correlation_id": "ba92333a-cacc-4e64-bc26-c95c9fed01da", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:46.862026+00:00", "level": "INFO", "correlation_id": "29e7bee0-65c4-4326-9c16-d2155688f232", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:47.071556+00:00", "level": "INFO", "correlation_id": "61bccf49-5c69-4463-9df6-cd04c7af5c2b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:47.280149+00:00", "level": "INFO", "correlation_id": "350f7c69-a129-439e-a33e-55399d03e243", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:47.284401+00:00", "level": "INFO", "correlation_id": "06af2445-ff2d-47ed-afe5-e2386b15cd89", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:47.825662+00:00", "level": "INFO", "correlation_id": "23e1c5f1-f4a7-4552-bef4-82e948bf781e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:48.036003+00:00", "level": "INFO", "correlation_id": "d2b0549d-5cb0-4c8d-a288-89e201c4c514", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:48.245455+00:00", "level": "INFO", "correlation_id": "760d6f78-4eff-4fad-9015-7f47cdfff817", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:48.455757+00:00", "level": "INFO", "correlation_id": "d1e37cc7-e3ed-4939-bdec-f4510eac0161", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:48.460540+00:00", "level": "INFO", "correlation_id": "6a0af739-ef93-4b27-badb-24ec7c35cece", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:48.464516+00:00", "level": "INFO", "correlation_id": "3ded0f21-7fdf-4506-858a-fda66baa4cb3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/9cad8f09-b844-43e6-be7c-4de65a0c3119 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T04:59:48.679069+00:00", "level": "INFO", "correlation_id": "03dca70b-129c-46c5-9b6f-da5fa90c3060", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:48.889785+00:00", "level": "INFO", "correlation_id": "e9d902c7-dcfa-4ec9-99cb-a45681c1f15f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:49.099190+00:00", "level": "INFO", "correlation_id": "9d53356d-d001-44ed-97b5-3abd08e50fd5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:49.309032+00:00", "level": "INFO", "correlation_id": "4ef12e5a-d7a4-4321-a546-920f5c2826f8", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:49.313737+00:00", "level": "INFO", "correlation_id": "a742b1ef-2f9f-4b7e-9941-7f11b52392ca", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:49.326371+00:00", "level": "INFO", "correlation_id": "5f7581ae-0ee1-4070-9923-f5caf50bad5c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T04:59:49.545939+00:00", "level": "INFO", "correlation_id": "54b044c8-da76-4c4e-ae29-139eadc883a7", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T04:59:49.756207+00:00", "level": "INFO", "correlation_id": "54192641-7139-4b7d-99e1-349cdcd17e65", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T04:59:49.760110+00:00", "level": "INFO", "correlation_id": "6a684df1-e92f-4aee-a995-c2cb4eb3eaaf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068ad3f4-5c1d-7db9-8000-0daafe954d30 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T05:00:51.495954+00:00", "level": "WARNING", "correlation_id": "N/A", "logger": "passlib.handlers.bcrypt", "module": "bcrypt", "line": 622, "message": "(trapped) error reading bcrypt version", "exception": "Traceback (most recent call last):\n  File \"/media/say1/media/Projects/Python/\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0435/2025/task_manager/.venv/lib/python3.13/site-packages/passlib/handlers/bcrypt.py\", line 620, in _load_backend_mixin\n    version = _bcrypt.__about__.__version__\n              ^^^^^^^^^^^^^^^^^\nAttributeError: module 'bcrypt' has no attribute '__about__'"}
{"timestamp": "2025-08-26T05:00:52.262593+00:00", "level": "INFO", "correlation_id": "8b28f5eb-d498-4b13-8062-a2ccb2067c1d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:52.493324+00:00", "level": "INFO", "correlation_id": "add4a9dc-fff5-4ba5-b3ac-4beb296766b1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:52.721415+00:00", "level": "INFO", "correlation_id": "07778b33-bada-40cf-8279-6d1a9f5d8207", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:52.953709+00:00", "level": "INFO", "correlation_id": "2dec4732-343d-47fe-a308-760b352208fe", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:53.185018+00:00", "level": "INFO", "correlation_id": "b706cc5c-3a09-4483-a978-f14fcb037d4b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T05:00:53.415792+00:00", "level": "INFO", "correlation_id": "130b1ba4-5e75-4da5-a3de-425ecb8d4730", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:53.421299+00:00", "level": "INFO", "correlation_id": "d76be95f-0ff8-4698-9d72-db95352d7e15", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T05:00:53.652126+00:00", "level": "INFO", "correlation_id": "4debf3fd-8bb8-4ac2-93ba-a994cd792d0d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:53.880421+00:00", "level": "INFO", "correlation_id": "7d0b3fb5-0a7b-4c47-8667-1a343264d925", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:53.882913+00:00", "level": "INFO", "correlation_id": "f897e5d0-3928-4555-9913-c32e027840b3", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:53.886657+00:00", "level": "INFO", "correlation_id": "0dce1d77-e88a-4bc9-a7ce-81d0426fe6aa", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/auth/me \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T05:00:54.115118+00:00", "level": "INFO", "correlation_id": "3317e601-d569-4094-a03b-fb5723d6a359", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:54.117947+00:00", "level": "INFO", "correlation_id": "e8287451-b754-4cbf-9556-48b674ab87e6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T05:00:54.351277+00:00", "level": "INFO", "correlation_id": "4e71467a-8065-4946-9071-a3c758bfb505", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:54.354252+00:00", "level": "INFO", "correlation_id": "c8472239-ce67-460e-98bd-013169014873", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 409 Conflict\""}
{"timestamp": "2025-08-26T05:00:54.583802+00:00", "level": "INFO", "correlation_id": "13fbe353-0eaa-4ac4-aacd-7bfc96a58495", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:54.810847+00:00", "level": "INFO", "correlation_id": "9949dbd4-79b7-4ca2-936d-b990e2e5fad9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:54.820323+00:00", "level": "INFO", "correlation_id": "861d5508-43f6-48cc-bcd3-6a25385b6b5e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:55.048503+00:00", "level": "INFO", "correlation_id": "12ea9137-9593-4ad5-9695-5962a6555a76", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:55.272371+00:00", "level": "INFO", "correlation_id": "94fbe220-08ba-4098-a42e-6e29fed87054", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:55.276949+00:00", "level": "INFO", "correlation_id": "03539550-5a6e-4839-97be-57304e8891ea", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:55.503529+00:00", "level": "INFO", "correlation_id": "83004dc3-2461-4668-a833-3f51cb5f8d01", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:55.728499+00:00", "level": "INFO", "correlation_id": "e1523427-4b1b-4806-9bd0-21507e96dae1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:55.731868+00:00", "level": "INFO", "correlation_id": "9a2cace7-2d04-4953-8335-304185137003", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 422 Unprocessable Entity\""}
{"timestamp": "2025-08-26T05:00:55.958201+00:00", "level": "INFO", "correlation_id": "5cb712d0-42b6-4a86-bc35-87b5a688b078", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:56.182804+00:00", "level": "INFO", "correlation_id": "2cc496e6-79ed-471a-97df-41d0e7844742", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:56.408999+00:00", "level": "INFO", "correlation_id": "f2b82675-6fbd-49b2-8f34-92191c21632f", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:56.638913+00:00", "level": "INFO", "correlation_id": "0034ff49-d954-4750-8a3d-f0727bc37db9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:56.643203+00:00", "level": "INFO", "correlation_id": "974dcc16-b1ab-44fd-84af-7b3444627d05", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:56.647385+00:00", "level": "INFO", "correlation_id": "62cd55fb-b2b4-42e8-a685-a66303ea936c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:56.650176+00:00", "level": "INFO", "correlation_id": "46cdcfbf-416b-457a-8934-42fda05e24e5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:56.652492+00:00", "level": "INFO", "correlation_id": "c3da14d8-a02e-4a77-9358-f4556feff253", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:56.879179+00:00", "level": "INFO", "correlation_id": "e65286cb-da94-4563-b64c-934413a66a4d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:57.102279+00:00", "level": "INFO", "correlation_id": "8b1c2e36-35db-45a0-bcea-f23fee22835a", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:57.316929+00:00", "level": "INFO", "correlation_id": "e9516799-4a99-4f06-a676-72cb89892139", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:57.534445+00:00", "level": "INFO", "correlation_id": "27a92ff6-61c9-476a-bff6-f526dc9d9435", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:57.538708+00:00", "level": "INFO", "correlation_id": "c5e580b1-222b-43c8-a0ba-87f1e836db49", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:57.542083+00:00", "level": "INFO", "correlation_id": "7961ba2f-c03c-4c56-9a1d-cb130c7993b9", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/8f1c6fca-28a3-4c7d-963a-0b70c0b9ff5d \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T05:00:57.774094+00:00", "level": "INFO", "correlation_id": "bbc421d3-038a-4f3e-86cb-42a4e9a6205d", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:57.999146+00:00", "level": "INFO", "correlation_id": "68718599-7b06-47d9-af6c-4c88ddabf57e", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:58.223201+00:00", "level": "INFO", "correlation_id": "caa742e8-aa5c-4ece-85b3-f1d16f68b8fa", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:58.447637+00:00", "level": "INFO", "correlation_id": "1432941b-0a5f-4775-a128-3394933ca9d1", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:58.452307+00:00", "level": "INFO", "correlation_id": "a0ed803e-5280-4e24-8f33-16d780d7721b", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:58.455572+00:00", "level": "INFO", "correlation_id": "026d3964-8875-4ce7-96ab-767fe2c0cfae", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: PUT http://test/tasks/8151df48-c3b5-4161-a8cf-f7ff8694605b \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T05:00:58.675672+00:00", "level": "INFO", "correlation_id": "417aed29-ad7e-424c-a719-c3849d8138f5", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:58.897598+00:00", "level": "INFO", "correlation_id": "8e174755-8bb2-4382-883b-d3970f046cdf", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:59.113137+00:00", "level": "INFO", "correlation_id": "44996745-7864-4833-9a6a-c292bc335214", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:59.322630+00:00", "level": "INFO", "correlation_id": "747a376a-8498-4464-b2a1-89b41b760639", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:59.327666+00:00", "level": "INFO", "correlation_id": "2c013609-b9b7-4f02-b2ea-212b8b90dbac", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:59.330865+00:00", "level": "INFO", "correlation_id": "d5298cdd-e86f-4cd3-bfc8-62cafd312e4c", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: DELETE http://test/tasks/4ec30295-4069-4d75-9212-c789e2371ac0 \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-08-26T05:00:59.333941+00:00", "level": "INFO", "correlation_id": "0e62290b-de2e-405b-861c-a04a3677b9c4", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T05:00:59.336949+00:00", "level": "INFO", "correlation_id": "ea2198c3-dc5a-4791-8a47-e33db84e91f0", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/tasks/ \"HTTP/1.1 401 Unauthorized\""}
{"timestamp": "2025-08-26T05:00:59.552117+00:00", "level": "INFO", "correlation_id": "83093708-1109-4c49-9ef5-16d24f826be6", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/register \"HTTP/1.1 201 Created\""}
{"timestamp": "2025-08-26T05:00:59.760410+00:00", "level": "INFO", "correlation_id": "27f1ef10-6f68-4973-92aa-92c1f06ad976", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: POST http://test/auth/login \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-08-26T05:00:59.764300+00:00", "level": "INFO", "correlation_id": "0c9afc27-1809-456c-9b9e-bfcc66c530b2", "logger": "httpx", "module": "_client", "line": 1740, "message": "HTTP Request: GET http://test/tasks/068ad3f8-bc2d-7eff-8000-7a889ff3717c \"HTTP/1.1 404 Not Found\""}
